<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/k(180x180).png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/k(32x32).png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/k(16x16).png?v=5.1.4">


  <link rel="mask-icon" href="/images/logok.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="兴趣使然的无名blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Kanata&#39;s blog">
<meta property="og:url" content="https://kanata369.github.io/index.html">
<meta property="og:site_name" content="Kanata&#39;s blog">
<meta property="og:description" content="兴趣使然的无名blog">
<meta property="og:locale">
<meta property="article:author" content="Kanata">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://Kanata369.github.io/"/>





  <title>Kanata's blog</title>
  








<meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kanata's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-3/" itemprop="url">计算机网络笔记-3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-03-06T14:09:53+08:00">
                2023-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%AD%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">大学学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>第三章</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2023/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-3/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/03/06/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-2/" itemprop="url">计算机网络笔记-2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-03-06T14:07:53+08:00">
                2023-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%AD%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">大学学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第二章</p>
<!--more--->
<h1 id="第二章-应用层"><a href="#第二章-应用层" class="headerlink" title="第二章 应用层"></a>第二章 应用层</h1><h2 id="2-1-应用层原理"><a href="#2-1-应用层原理" class="headerlink" title="2.1 应用层原理"></a>2.1 应用层原理</h2><h3 id="创建一个新的网络应用"><a href="#创建一个新的网络应用" class="headerlink" title="创建一个新的网络应用"></a>创建一个新的网络应用</h3><p>编程</p>
<ul>
<li>在不同的端系统上运行</li>
<li>通过网络基础设施提供的服务,应用进程彼此通信</li>
<li>如Web:Web服务器软件与浏览器软件通信</li>
</ul>
<p>网络核心中没有应用层软件</p>
<ul>
<li>网络核心没有应用层功能</li>
<li>网络应用只在端系统上存在,快速网络应用开发和部署</li>
</ul>
<h3 id="网络应用的体系架构"><a href="#网络应用的体系架构" class="headerlink" title="网络应用的体系架构"></a>网络应用的体系架构</h3><p>可能的应用架构:</p>
<ol>
<li>客户-服务器模式(C/S: client/server)</li>
<li>对等模式(P2P: Peer To Peer)</li>
<li>混合体: 客户-服务器和对等体系结构</li>
</ol>
<p>客户-服务器(C/S) 体系结构</p>
<p>服务器:</p>
<ul>
<li>一直运行</li>
<li>固定的IP地址和周知的端口号(约定)</li>
<li>扩展性:服务器场<ul>
<li>数据中心进行扩展</li>
<li>扩展性差</li>
</ul>
</li>
</ul>
<p>客户端:</p>
<ul>
<li>主动与服务器通信</li>
<li>与互联网有间歇性的连接</li>
<li>可能是动态IP地址</li>
<li>不直接与其他客户端通信</li>
</ul>
<p>对等体(P2P)体系结构</p>
<ul>
<li>(几乎)没有一直运行的服务器</li>
<li>任意端系统之间可以进行通信</li>
<li>每一个节点既是客户端又是服务器<ul>
<li>自扩展性-新peer节点带来新的服务能力,当然也带来新的服务请求</li>
</ul>
</li>
<li>参与的主机间歇性连接且可以改变IP地址<ul>
<li>难以管理</li>
</ul>
</li>
<li>例子:Gnutella,迅雷</li>
</ul>
<p>C/S和P2P体系结构的混合体</p>
<p>Napster</p>
<ul>
<li>文件搜索:集中<ul>
<li>主机在中心服务器上注册其资源</li>
<li>主机向中心服务器查询资源位置</li>
</ul>
</li>
<li>文件传输:P2P<ul>
<li>任意Peer节点之间</li>
</ul>
</li>
</ul>
<p>即时通信</p>
<ul>
<li>在线检测:集中<ul>
<li>当用户上线时,向中心服务器注册其IP地址</li>
<li>用户与中心服务器联系,以找到其在线好友的位置</li>
</ul>
</li>
<li>两个用户之间聊天:P2P</li>
</ul>
<h3 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h3><p>进程:在主机上运行的应用程序</p>
<ul>
<li>在同一个主机内,使用进程间通信机制通信(操作系统定义)</li>
<li>不同主机,通过交换报文(Message)来通信<ol>
<li>使用OS提供的通信服务(如管道,消息队列,共享缓冲区)</li>
<li>按照应用协议交换报文—借助传输层提供的服务</li>
</ol>
</li>
<li>注意: P2P架构的应用也有客户端进程和服务器进程之分</li>
</ul>
<p>客户端进程:发起通信的进程</p>
<p>服务器进程:等待连接的进程</p>
<h3 id="分布式进程通信需要解决的问题"><a href="#分布式进程通信需要解决的问题" class="headerlink" title="分布式进程通信需要解决的问题"></a>分布式进程通信需要解决的问题</h3><ol>
<li>进程标示和寻址问题(服务用户)</li>
<li>传输层-应用层提供服务是如何(服务)<ul>
<li>位置:层间界面的SAP(TCP/IP:socket)</li>
<li>形式:应用程序接口API(TCP/IP:socket API)</li>
</ul>
</li>
<li>如何使用传输层提供的服务,实现应用进程之间的报文交换,实现应用(用户使用服务)<ul>
<li>定义应用层协议:报文格式,解释,时序等</li>
<li>编制程序,使用OS提供的API,调用网络基础设施提供通信服务传报文,实现应用时序等</li>
</ul>
</li>
</ol>
<h3 id="问题1-对进程进行编制-addressing"><a href="#问题1-对进程进行编制-addressing" class="headerlink" title="问题1:对进程进行编制(addressing)"></a>问题1:对进程进行编制(addressing)</h3><ul>
<li>进程为了接受报文,必须有一个标示,即:SAP(发送也需要标示)<ul>
<li>主机:唯一的32位IP地址—仅仅有IP地址不能够唯一标示一个进程:在一台端系统上有很多应用进程在运行</li>
<li>所采用的传输层协议:TCP or UDP</li>
<li>端口号(Port Numbers)</li>
</ul>
</li>
<li>一些知名端口号<ul>
<li>HTTP:TCP 80</li>
<li>Mail:TCP 25</li>
<li>ftp:TCP 2</li>
</ul>
</li>
<li>一个进程:用IP+port标示端节点(如果多个进程争抢同一端口?—socket不仅包含端口信息,其实是一种对话关系,B可以同时和A,和C在xx端口建立通信,同一端口可以复用,但注意socket所代表的四元组不能完全相同)</li>
<li>本质上,一对主机进程之间的通信由2个端节点(end point)构成</li>
</ul>
<h3 id="问题2-传输层提供的服务-需要穿过层间的信息"><a href="#问题2-传输层提供的服务-需要穿过层间的信息" class="headerlink" title="问题2:传输层提供的服务-需要穿过层间的信息"></a>问题2:传输层提供的服务-需要穿过层间的信息</h3><ul>
<li>层间接口必须要携带的信息<ul>
<li>要传输的报文(对于本层来说:SDU)</li>
<li>谁传的:对方的应用进程的标示:IP+TCP(UDP)端口</li>
<li>传给谁:对方的应用进程的标示:对方的IP+TCP(UDP)端口</li>
</ul>
</li>
<li>传输层实体(tcp或者udp实体)根据这些信息进行TCP报文段(UDP数据报)的封装<ul>
<li>源端口号,目标端口号,数据等</li>
<li>将IP地址往下交IP实体,用于封装IP数据报:源IP,目标IP</li>
</ul>
</li>
</ul>
<h3 id="问题2-传输层提供的服务-层间信息的代表"><a href="#问题2-传输层提供的服务-层间信息的代表" class="headerlink" title="问题2:传输层提供的服务-层间信息的代表"></a>问题2:传输层提供的服务-层间信息的代表</h3><ul>
<li>如果Socket API每次传输报文,都携带如此多的信息,太繁杂易错,不便于管理</li>
<li>用个代号标示通信的双方或者单方:socket</li>
<li>就像OS打开文件返回的句柄一样—对句柄的操作,就是对文件的操作</li>
<li>TCP socket:<ul>
<li>TCP服务,两个进程之间的通信需要之前要建立连接—两个进程通信会持续一段时间,通信关系稳定</li>
<li>可以用一个整数表示两个应用实体之间的通信关系,<strong>本地标示</strong></li>
<li>穿过层间接口的信息量最小(原本至少要传4个字符串参数,现在只用传一个整数参数)</li>
<li>TCP socket:源IP,源端口,目标IP,目标端口</li>
</ul>
</li>
</ul>
<p>TCP之上的套接字(socket)</p>
<p>对于使用面向连接服务(TCP)的应用而言,套接字是4元组的一个具有本地意义的标示</p>
<ul>
<li>4元组:(源IP,源port,目标IP,目标port)</li>
<li>唯一的指定了一个会话(2个进程之间的会话关系)</li>
<li>应用使用这个标标示,与远程的应用进程通信</li>
<li>不必在每一个报文的发送都要指定这4元组</li>
<li>就像使用操作系统打开一个文件,OS返回一个文件句柄一样,以后使用这个文件句柄,而不是使用这个文件的目录名,文件名(因此压缩传过层间接口的信息量)</li>
<li>简单,便于管理</li>
</ul>
<hr>
<p>UDP socket:</p>
<ul>
<li>UDP服务,两个进程之间的通信需要之前无需建立连接<ul>
<li>每个报文都是独立传输的</li>
<li>前后报文可能给不同的分布式进程</li>
</ul>
</li>
<li>因此,只能用一个整数表示本应用实体的标示<ul>
<li>因为这个报文可能传给另外一个分布式进程</li>
</ul>
</li>
<li>穿过层间接口的信息大小最小</li>
<li>UDP socket:本IP,本端口</li>
<li>但是传输报文时,必须要提供对方IP,port<ul>
<li>接受报文时:传输层需要上传对方的IP,port</li>
</ul>
</li>
</ul>
<p>UDP之上的套接字(socket)</p>
<p>对于使用无连接服务(UDP)的应用而言,套接字是2元组的一个具有本地意义的标示</p>
<ul>
<li>2元组:IP, port(源端指定)</li>
<li>UDP套接字指定了应用所在的一个端节点(end point)</li>
<li>在发送数据报时,采用创建好的本地套接字(标示ID),就不必在发送每个报文中指明自己所采用的ip和port</li>
<li>但是在发送报文时,必须要指定对方的ip和udp port(另外一个端节点)</li>
</ul>
<h3 id="问题3-如何使用传输层提供的服务实现应用"><a href="#问题3-如何使用传输层提供的服务实现应用" class="headerlink" title="问题3:如何使用传输层提供的服务实现应用"></a>问题3:如何使用传输层提供的服务实现应用</h3><ul>
<li>定义应用层协议:报文格式,解释,时序等</li>
<li>编制程序,通过API调用网络基础设施提供通信服务传报文,解析报文,实现应用时序等</li>
</ul>
<p>应用层协议</p>
<ul>
<li>定义了:运行在不同端系统上的应用进程如何相互交换报文<ol>
<li>交换的报文类型:请求和应答报文</li>
<li>各种报文类型的语法:报文中的各个字段及其描述</li>
<li>字段的语义:即字段取值的含义</li>
<li>进程何时,如何发送报文及对报文进行响应的规则</li>
</ol>
</li>
<li>应用协议仅仅是应用的一个组成部分<ol>
<li>Web应用:HTTP协议,web客户端,web服务器,HTML</li>
</ol>
</li>
<li>公开协议:<ol>
<li>由RFC文档定义</li>
<li>允许互操作</li>
<li>如HTTP,SMTP</li>
</ol>
</li>
<li>专用(私有协议):<ul>
<li>协议不公开</li>
<li>如:Skype</li>
</ul>
</li>
</ul>
<p>应用需要传输层提供什么样的服务?</p>
<ul>
<li>数据丢失率<ul>
<li>有些应用要求100%的可靠数据传输(如文件)</li>
<li>有些应用(如音频)能容忍一定比例以下的数据丢失</li>
</ul>
</li>
<li>延迟<ul>
<li>一些应用出于有效性考虑,对数据传输有严格的时间限制<ol>
<li>Internet电话,交互式游戏</li>
<li>延迟,延迟差</li>
</ol>
</li>
</ul>
</li>
<li>吞吐<ul>
<li>一些应用(如多媒体)必须需要最小限度的吞吐,从而使得应用能够有效运转</li>
<li>一些应用能充分利用可供使用的吞吐(弹性应用)</li>
</ul>
</li>
<li>安全性<ul>
<li>机密性</li>
<li>完整性</li>
<li>可认证性(鉴别)</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223217363.png" alt="image-20230210223217363"></p>
<p>(视频应为100kbps~5Mbps)</p>
<h3 id="Internet传输层提供的服务"><a href="#Internet传输层提供的服务" class="headerlink" title="Internet传输层提供的服务"></a>Internet传输层提供的服务</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223520677.png" alt="image-20230210223520677"></p>
<h3 id="UDP存在的必要性"><a href="#UDP存在的必要性" class="headerlink" title="UDP存在的必要性"></a>UDP存在的必要性</h3><ul>
<li>能够区分不同的进程,而IP服务不同(在IP提供的主机到主机端到端的基础上,区分了主机的应用进程)</li>
<li>无需建立连接,省去了建立连接时间,适合事务性的应用</li>
<li>不做可靠性的工作,例如检错重发,适合那些对实时性要求比较高而对正确性要求不高的应用—因为为了实现可靠性(准确性,保序等),必须付出时间代价(检错重发)</li>
<li>没有拥塞控制和流量控制,应用能够按照设定的速度发送数据—而在TCP上的应用,应用发送数据的速度和主机向网络发送的实际速度是不一致的,因为有流量控制和拥塞控制</li>
</ul>
<h3 id="Internet应用及其应用层协议和传输协议"><a href="#Internet应用及其应用层协议和传输协议" class="headerlink" title="Internet应用及其应用层协议和传输协议"></a>Internet应用及其应用层协议和传输协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210224639940.png" alt="image-20230210224639940"></p>
<h3 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h3><p>TCP&amp;UDP</p>
<ul>
<li>都没有加密</li>
<li>明文通过互联网传输,甚至密码</li>
</ul>
<p>SSL</p>
<ul>
<li>在TCP上面实现,提供加密的TCP连接</li>
<li>私密性</li>
<li>数据完整性</li>
<li>端到端的鉴别</li>
</ul>
<p>SSL在应用层</p>
<ul>
<li>应用采用SSL库,SSL库使用TCP通信</li>
</ul>
<p>SSL socket API</p>
<ul>
<li>应用通过API将明文交给socket,SSL将其加密在互联网上传输</li>
<li>详见第8章</li>
</ul>
<h2 id="2-2-Web-and-HTTP"><a href="#2-2-Web-and-HTTP" class="headerlink" title="2.2 Web and HTTP"></a>2.2 Web and HTTP</h2><p>一些术语:</p>
<ul>
<li>Web页:由一些对象组成</li>
<li>对象可以是HTML文件,JPEG图像,Java小程序,声音剪辑文件等</li>
<li>Web页含有一个基本的HTML文件,该基本HTML文件又包含若干对象的引用(链接)</li>
<li>通过URL(通用资源定位符)对每个对象进行引用<ul>
<li>访问协议,用户名,口令字,端口等</li>
</ul>
</li>
<li>URL格式:</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211000902980.png" alt="image-20230211000902980"></p>
<h3 id="HTTP概况"><a href="#HTTP概况" class="headerlink" title="HTTP概况"></a>HTTP概况</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211001754767.png" alt="image-20230211001754767"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211002108695.png" alt="image-20230211002108695"></p>
<p>服务器存在一个等待socket负责在80端口监听连接请求</p>
<p>完成一次请求响应后,对应socket即关闭(如请求html页面,浏览器获得html文件后即关闭socket)</p>
<p>HTTP连接</p>
<ul>
<li>非持久HTTP<ul>
<li>最多只有一个对象在TCP连接上发送(对象传输完成后,socket即关闭)</li>
<li>下载多个对象需要多个TCP连接</li>
<li>HTTP/1.0使用非持久连接</li>
</ul>
</li>
<li>持久HTTP<ul>
<li>多个对象可以在一个(在客户端和服务器之间的)TCP连接上传输(对象传输完成后,客户端仍可发送http请求,请求下个对象)</li>
<li>HTTP/1.1默认使用持久连接</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104736947.png" alt="image-20230211104736947"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104941790.png" alt="image-20230211104941790"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105101590.png" alt="image-20230211105101590"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105337489.png" alt="image-20230211105337489"></p>
<p>流水方式的持久HTTP:前一个对象还没返回时,就请求下一个对象(节省时间)</p>
<h3 id="HTTP请求报文"><a href="#HTTP请求报文" class="headerlink" title="HTTP请求报文"></a>HTTP请求报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105927290.png" alt="image-20230211105927290"></p>
<ol>
<li>GET:请求文件</li>
<li>POST:上载文件</li>
<li>HEAD:只请求html的头信息(如搜索引擎建索引)</li>
<li>Host:主机</li>
<li>Connection:响应后是否关闭socket</li>
</ol>
<p>首部行之后可能还包含一些实体行(如post中上载的文件)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211110406533.png" alt="image-20230211110406533"></p>
<ol>
<li>sp:space 空格</li>
<li>cr lf :换行</li>
</ol>
<h3 id="提交表单输入"><a href="#提交表单输入" class="headerlink" title="提交表单输入"></a>提交表单输入</h3><p>Post方式:</p>
<ul>
<li>网页通常包括表单输入</li>
<li>包含在实体主体(entity body)中的输入被提交到服务器</li>
</ul>
<p>URL方式:</p>
<ul>
<li>方法:GET</li>
<li>输入通过请求行的URL字段上载(在URL中添加对应参数)</li>
</ul>
<h3 id="方法类型"><a href="#方法类型" class="headerlink" title="方法类型"></a>方法类型</h3><p>HTTP/1.0:</p>
<ol>
<li>GET</li>
<li>POST</li>
<li>HEAD<ul>
<li>要求服务器在响应报文中不包含对象请求—故障跟踪</li>
<li>搜索引擎建立索引</li>
</ul>
</li>
</ol>
<p>HTTP/1.1:</p>
<ol>
<li>GET,POST,HEAD</li>
<li>PUT<ul>
<li>将实体主体中的文件上载到URL字段规定的路径</li>
</ul>
</li>
<li>DELETE<ul>
<li>删除URL字段规定的文件</li>
</ul>
</li>
</ol>
<h3 id="HTTP响应报文"><a href="#HTTP响应报文" class="headerlink" title="HTTP响应报文"></a>HTTP响应报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211111656472.png" alt="image-20230211111656472"></p>
<ul>
<li>Content-Length：TCP协议本身不维护报文与报文之间的边界(如两个15k的报文可能会被看成一个30k的报文),故HTTP协议需要该参数,判断本报文要读取多少行</li>
</ul>
<h3 id="HTTP响应状态码"><a href="#HTTP响应状态码" class="headerlink" title="HTTP响应状态码"></a>HTTP响应状态码</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211112348721.png" alt="image-20230211112348721"></p>
<h3 id="用户-服务器状态-cookies"><a href="#用户-服务器状态-cookies" class="headerlink" title="用户-服务器状态:cookies"></a>用户-服务器状态:cookies</h3><p>大多数主要的门户网站使用cookies</p>
<p>4个组成部分:</p>
<ol>
<li>在HTTP响应报文中有一个cookie的首部行</li>
<li>在HTTP请求报文含有一个cookie的首部行</li>
<li>在用户端系统中保留有一个cookie文件,由用户的浏览器管理</li>
<li>在Web站点有一个后端数据库</li>
</ol>
<p>例子:</p>
<ol>
<li>Susan总是用同一个PC使用Internet Explore上网</li>
<li>她第一层访问了一个使用了Cookie的电子商务网站</li>
<li>当最初的HTTP请求到达服务器时,该Web站点产生一个唯一的ID,并以此作为索引在它的后端数据库中产生一个项</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115046218.png" alt="image-20230211115046218"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115255215.png" alt="image-20230211115255215"></p>
<h3 id="Web缓存-代理服务器-proxy-server"><a href="#Web缓存-代理服务器-proxy-server" class="headerlink" title="Web缓存(代理服务器/proxy server)"></a>Web缓存(代理服务器/proxy server)</h3><p>目标:不访问原始服务器,就满足客户的请求</p>
<ul>
<li>用户设置浏览器: 通过缓存访问Web</li>
<li>浏览器将所有的HTTP请求发给缓存<ul>
<li>在缓存中的对象:缓存直接返回对象</li>
<li>如对象不在缓存,缓存请求原始服务器,然后再将对象返回给客户端</li>
</ul>
</li>
</ul>
<p>好处:</p>
<ol>
<li>对客户端来说,不需要每次访问原始服务器(origin server),更快了</li>
<li>对服务器来说,减轻了服务器的负载,网络负担轻</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120250652.png" alt="image-20230211120250652"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120642173.png" alt="image-20230211120642173"></p>
<p>排队时间=I/(1-I)*L/R</p>
<p>解决方案:</p>
<ol>
<li>提高带宽—花销大</li>
<li>安装本地缓存</li>
</ol>
<p>缓存例子:安装本地缓存</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211122624384.png" alt="image-20230211122624384"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123320343.png" alt="image-20230211123320343"></p>
<p>即增加本地缓存,可以减少流量强度,进而大幅减小接入链路的排队时间</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123658612.png" alt="image-20230211123658612"></p>
<h2 id="2-3-FTP"><a href="#2-3-FTP" class="headerlink" title="2.3 FTP"></a>2.3 FTP</h2><h3 id="FTP-文件传输协议"><a href="#FTP-文件传输协议" class="headerlink" title="FTP:文件传输协议"></a>FTP:文件传输协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230521890.png" alt="image-20230211230521890"></p>
<h3 id="FTP-控制连接与数据连接分开"><a href="#FTP-控制连接与数据连接分开" class="headerlink" title="FTP:控制连接与数据连接分开"></a>FTP:控制连接与数据连接分开</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230917021.png" alt="image-20230211230917021"></p>
<ol>
<li>FTP客户端与FTP服务器通过端口21联系,并使用TCP为传输协议</li>
<li>客户端通过控制连接获得身份确认(甚至因为ftp太老,身份认证是明文传输)</li>
<li>客户端通过控制连接发送命令,浏览远程目录</li>
<li>收到一个文件传输命令时,服务器打开一个到客户端的数据连接(注意是服务器主动开启)</li>
<li>一个文件传输完成后,服务器关闭连接</li>
<li>服务器打开第二个TCP数据连接用来传输另一个文件</li>
<li>控制连接:带外(“out of band”)传送(带内为数据传输)</li>
<li>FTP服务器维护用户的状态信息:当前路径,用户账户与控制连接对应</li>
<li>有状态</li>
</ol>
<h3 id="FTP命令-响应"><a href="#FTP命令-响应" class="headerlink" title="FTP命令,响应"></a>FTP命令,响应</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211231544963.png" alt="image-20230211231544963"></p>
<h2 id="2-4-Email"><a href="#2-4-Email" class="headerlink" title="2.4 Email"></a>2.4 Email</h2><p>3个主要组成部分:</p>
<ol>
<li>用户代理</li>
<li>邮件服务器</li>
<li>简单邮件传输协议:SMTP</li>
</ol>
<p>用户代理</p>
<ul>
<li>又名”邮件阅读器”</li>
<li>撰写,编辑和阅读邮件</li>
<li>如Outlook,Foxmail(正如浏览器是Web应用的用户代理)</li>
<li>输出和输入邮件保存在服务器上</li>
</ul>
<p>邮件服务器</p>
<ul>
<li>邮箱中管理和维护发送给用户的邮件</li>
<li>输出报文队列保持待发送邮件报文</li>
<li>邮件服务器之间的SMTP协议:发送email报文<ul>
<li>客户:发送方邮件服务器</li>
<li>服务器:接受端邮件服务器</li>
</ul>
</li>
<li>用户将邮件发到邮件服务器,邮件服务器将其保存在队列中,挨个发送到对应的邮件服务器,服务器收到后,放到对应客户的mailbox中,用户代理查看邮箱时,就从对应服务器中拉取对应邮件(注意这一步采取的不是SMTP协议)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212010439091.png" alt="image-20230212010439091"></p>
<h3 id="Email-SMTP-RFC-2821"><a href="#Email-SMTP-RFC-2821" class="headerlink" title="Email: SMTP[RFC 2821]"></a>Email: SMTP[RFC 2821]</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212021940829.png" alt="image-20230212021940829"></p>
<p>eg:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022310493.png" alt="image-20230212022310493"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022901935.png" alt="image-20230212022901935"></p>
<p>注意:如果后续这俩个服务器之间仍有要发送的邮件,则连接不断开,继续传输</p>
<h3 id="SMTP-总结"><a href="#SMTP-总结" class="headerlink" title="SMTP:总结"></a>SMTP:总结</h3><ul>
<li>SMTP使用持久连接</li>
<li>SMTP要求报文(首部和主体)为7位ASCII编码(最高位要为0)</li>
<li>SMTP服务器使用CRLF.CRLF决定报文的尾部</li>
</ul>
<p>HTTP比较</p>
<ul>
<li>HTTP:拉(pull)</li>
<li>SMTP:推(push)</li>
<li>二者都是ASCII形式的命令/响应交换,状态码</li>
<li>HTTP:每个对象封装在各自的响应报文中(如HTML中的其他对象)</li>
<li>SMTP:多个对象包含在一个报文中</li>
</ul>
<h3 id="邮件报文格式"><a href="#邮件报文格式" class="headerlink" title="邮件报文格式"></a>邮件报文格式</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023553599.png" alt="image-20230212023553599"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023737461.png" alt="image-20230212023737461"></p>
<p>Base64:将若干个不在ASCII码范围内的字节,转化成更长的,在ASCII码范围内的字节</p>
<h3 id="邮件访问协议"><a href="#邮件访问协议" class="headerlink" title="邮件访问协议"></a>邮件访问协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024223079.png" alt="image-20230212024223079"></p>
<h3 id="POP3协议"><a href="#POP3协议" class="headerlink" title="POP3协议"></a>POP3协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024513426.png" alt="image-20230212024513426"></p>
<p>(S的第二次message大概是message2,此处应该是打错了)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024857692.png" alt="image-20230212024857692"></p>
<h2 id="2-5-DNS-Domain-Name-System"><a href="#2-5-DNS-Domain-Name-System" class="headerlink" title="2.5 DNS(Domain Name System)"></a>2.5 DNS(Domain Name System)</h2><h3 id="DNS-域名转换系统-的必要性"><a href="#DNS-域名转换系统-的必要性" class="headerlink" title="DNS(域名转换系统)的必要性"></a>DNS(域名转换系统)的必要性</h3><ul>
<li>IP地址标识主机,路由器</li>
<li>但IP地址不好记忆,不便于人类使用(没有意义,ipv4:32bit ipv6:128bit,一般用点分十进制的方法简化)</li>
<li>人类一般倾向于使用一些有意义的字符串来标识Internet上的设备</li>
<li>存在着”字符串”-IP地址的转换的必要性</li>
<li>人类用户提供要访问机器的”字符串”名称</li>
<li>由DNS负责转换成为二进制的网络地址</li>
<li>Web应用,FTP均有利用DNS</li>
</ul>
<h3 id="DNS系统需要解决的问题"><a href="#DNS系统需要解决的问题" class="headerlink" title="DNS系统需要解决的问题"></a>DNS系统需要解决的问题</h3><ol>
<li>如何命名设备<ul>
<li>用有意义的字符串:好记,便于人类使用</li>
<li>解决一个平面命名的重名问题:层次化命名</li>
</ul>
</li>
<li>如何完成名字到IP地址的转换<ul>
<li>分布式的数据库维护和响应名字查询</li>
</ul>
</li>
<li>如何维护:增加或者删除一个域,需要在域名系统中做哪些工作</li>
</ol>
<h3 id="DNS的历史"><a href="#DNS的历史" class="headerlink" title="DNS的历史"></a>DNS的历史</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212222008441.png" alt="image-20230212222008441"></p>
<h3 id="DNS总体思路和目标"><a href="#DNS总体思路和目标" class="headerlink" title="DNS总体思路和目标"></a>DNS总体思路和目标</h3><p>DNS的主要思路</p>
<ol>
<li>分层的,基于域的命名机制</li>
<li>若干分布式的数据库完成名字到IP地址的转换</li>
<li>运行在UDP之上端口号为53的应用服务</li>
<li>核心的Internet功能,但以应用层协议实现—在网络边缘处理复杂性</li>
</ol>
<p>DNS的目标</p>
<ol>
<li>主要目的:实现主机名-IP地址的转换(name/IP translate)</li>
<li>其他目的:<ol>
<li>主机别名到规范名字的转换:Host aliasing</li>
<li>邮件服务器别名到邮件服务器的正规名字的转换:Mail server aliasing(别名是为了方便用户访问,规范名字是为了方便管理,别名—&gt;正规名字—&gt;IP地址)</li>
<li>负载均衡:Load Distribution</li>
</ol>
</li>
</ol>
<p>问题1:DNS名字空间(The DNS Name Space)</p>
<p>DNS域名结构</p>
<ul>
<li>一个层面命名设备会有很多重名</li>
<li>DNS采用层次树状结构的命名方法</li>
<li>Internet根被划为几百个顶级域(top lever domains)<ul>
<li>通用的(generic): .com;.edu; .int; .mil; .net; .org; .firm; .hsop; .web; .arts; .rec;</li>
<li>国家的(countries): .cn; ,us; .nl; .jp</li>
</ul>
</li>
<li>每个(子)域下面可划分为若干子域(subdomains)</li>
<li>树叶是主机</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233246830.png" alt="image-20230212233246830"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233410434.png" alt="image-20230212233410434"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212234059946.png" alt="image-20230212234059946"></p>
<p>域名的管理</p>
<ul>
<li>一个域管理其下的子域<ol>
<li>.jp 被划分为ac.jp co.jp</li>
<li>.cn被划分为edu.cn com.cn</li>
</ol>
</li>
<li>创建一个新的域,必须征得它所属域的同意</li>
</ul>
<p>域与物理网络无关</p>
<ul>
<li>域遵从组织界限,而不是物理网络<ol>
<li>一个域的主机可以不在一个网络</li>
<li>一个网络的主机不一定在一个域</li>
</ol>
</li>
<li>域的划分是逻辑的,而不是物理的</li>
</ul>
<h3 id="问题2-解析问题-名字服务器-Name-Server"><a href="#问题2-解析问题-名字服务器-Name-Server" class="headerlink" title="问题2: 解析问题-名字服务器(Name Server)"></a>问题2: 解析问题-名字服务器(Name Server)</h3><p>一个名字服务器的问题</p>
<ul>
<li>可靠性问题:单点故障</li>
<li>扩展性问题:通信容量</li>
<li>维护问题:远距离的集中式数据库</li>
</ul>
<p>区域(zone)</p>
<ul>
<li>区域的划分有区域管理者自己决定</li>
<li>将DNS名字空间划分为互不相交的区域,每个区域都是树的一部分</li>
<li>名字服务器:<ul>
<li>每个区域都有一个名字服务器:维护着它所管辖区域的权威信息(authoritative record)</li>
<li>名字服务器允许被放置在区域之外,以保障可靠性</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212235820190.png" alt="image-20230212235820190"></p>
<p>(上层的域服务器都知道其下层的域服务器和对应的IP地址)</p>
<p>TLD服务器:顶级域(TLD)服务器,负责顶级域名(如com,org,net,edu和gov)和所有国家级的顶级域名(如cn,uk,fr,ca,jp)</p>
<ul>
<li>Network solutions 公司维护com TLD服务器</li>
<li>Educause 公司维护edu TLD服务器</li>
</ul>
<h3 id="区域名字服务器维护资源记录"><a href="#区域名字服务器维护资源记录" class="headerlink" title="区域名字服务器维护资源记录"></a>区域名字服务器维护资源记录</h3><p>资源记录(resource records)</p>
<ul>
<li>作用: 维护 域名-IP地址的映射关系(还有其他映射关系,比如别名到规范名字的映射关系)</li>
<li>位置:Name Server的分布式数据库中</li>
</ul>
<p>RR格式:(domain_name,ttl,type,class,Value)</p>
<ul>
<li>Domain_name: 域名</li>
<li>ttl(time to live):生存时间(如果ttl无限大,即为权威记录,如果是一个有限值,即为缓冲记录,一段时间后即删去)</li>
<li>Class类别: 对于Internet,值为IN</li>
<li>Value值: 可以是数字,域名或ASCII串(即域名所映射的对象)</li>
<li>Type 类别: 资源记录的类型(如域名到IP地址的转换,主机别名到主机规范名字的转换,邮件服务器别名到邮件服务器规范名字的转换)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213001803651.png" alt="image-20230213001803651"></p>
<p>注意:NS的Name为子域的名字,而Value为该子域的权威服务器的域名</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002257471.png" alt="image-20230213002257471"></p>
<h3 id="DNS大致工作过程"><a href="#DNS大致工作过程" class="headerlink" title="DNS大致工作过程"></a>DNS大致工作过程</h3><ol>
<li>应用调用解析器(resolver)</li>
<li>解析器作为客户向Name Server 发出查询报文(封装在UDP段中)</li>
<li>Name Server返回响应报文(name or ip)</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002640061.png" alt="image-20230213002640061"></p>
<p>一台设备上网需要4个信息:</p>
<ol>
<li>主机的IP地址</li>
<li>所在的子网掩码(通过子网掩码判断目标主机是否在本地子网中)</li>
<li>defualt gateway(即缺省网关)</li>
<li>local name server</li>
</ol>
<h3 id="本地名字服务器-Local-Name-Server"><a href="#本地名字服务器-Local-Name-Server" class="headerlink" title="本地名字服务器(Local Name Server)"></a>本地名字服务器(Local Name Server)</h3><ul>
<li>并不严格属于层次结构</li>
<li>每个ISP(居民区的ISP,公司,大学)都有一个本地DNS服务器(也称为默认名字服务器)</li>
<li>当一个主机发起一个DNS查询时,查询被送到其本地DNS服务器(起着代理的作用,将查询转发到层次结构中)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213005356746.png" alt="image-20230213005356746"></p>
<h3 id="查询方式"><a href="#查询方式" class="headerlink" title="查询方式"></a>查询方式</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012048131.png" alt="image-20230213012048131"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012502634.png" alt="image-20230213012502634"></p>
<h3 id="DNS协议-报文"><a href="#DNS协议-报文" class="headerlink" title="DNS协议,报文"></a>DNS协议,报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012553063.png" alt="image-20230213012553063"></p>
<p>ID号便于处理多个查询(即不需要等上个查询返回结果就可以处理下个查询)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013029474.png" alt="image-20230213013029474"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013123198.png" alt="image-20230213013123198"></p>
<h3 id="问题3-维护问题-新增一个域"><a href="#问题3-维护问题-新增一个域" class="headerlink" title="问题3: 维护问题:新增一个域"></a>问题3: 维护问题:新增一个域</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013247740.png" alt="image-20230213013247740"></p>
<p>子域名字—&gt;子域名字服务器的名字—&gt;子域名字服务器的ip地址</p>
<h3 id="攻击DNS"><a href="#攻击DNS" class="headerlink" title="攻击DNS"></a>攻击DNS</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013709337.png" alt="image-20230213013709337"></p>
<h2 id="2-6-P2P应用"><a href="#2-6-P2P应用" class="headerlink" title="2.6 P2P应用"></a>2.6 P2P应用</h2><h3 id="纯P2P架构"><a href="#纯P2P架构" class="headerlink" title="纯P2P架构"></a>纯P2P架构</h3><ul>
<li>没有(或极少)一直运行的服务器</li>
<li>任意端系统都可以直接通信</li>
<li>利用peer的服务能力</li>
<li>Peer节点间歇上网,每次IP地址都有可能变化</li>
</ul>
<p>例子:</p>
<ol>
<li>文件分发(BitTorrent)</li>
<li>流媒体(KanKan)</li>
<li>VoIP(Skype)</li>
</ol>
<h3 id="文件分发-C-S-vs-P2P"><a href="#文件分发-C-S-vs-P2P" class="headerlink" title="文件分发: C/S vs P2P"></a>文件分发: C/S vs P2P</h3><p>问题:从一台服务器分发文件(大小F)到N个peer需要多少时间?</p>
<p>Peer节点上下载能力是有限的资源</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001009697.png" alt="image-20230214001009697"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214002407656.png" alt="image-20230214002407656"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001638734.png" alt="image-20230214001638734"></p>
<p>C/S模式,时间随N线性增大</p>
<p>P2P模式,N增加后,时间趋近于一个常数</p>
<h3 id="P2P文件分发"><a href="#P2P文件分发" class="headerlink" title="P2P文件分发"></a>P2P文件分发</h3><p>相邻的peer节点之间通过会话关系形成边,形成了覆盖网(overlay)</p>
<p>非结构化P2P</p>
<ul>
<li>其overlay是随机生成的</li>
<li>分为三类<ol>
<li>集中化目录</li>
<li>完全分布式</li>
<li>混合体</li>
</ol>
</li>
</ul>
<p>DHT(结构化)P2P(基于分布式散列表)</p>
<ul>
<li>其overlay是有序的,可以形成环,树等关系(更加复杂)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215151721741.png" alt="image-20230215151721741"></p>
<p>两大问题</p>
<ol>
<li>如何定位所需资源</li>
<li>如何处理对等方的加入与离开</li>
</ol>
<p>可能的方案</p>
<ol>
<li>集中</li>
<li>分散</li>
<li>半分散</li>
</ol>
<h3 id="P2P-集中式目录"><a href="#P2P-集中式目录" class="headerlink" title="P2P:集中式目录"></a>P2P:集中式目录</h3><p>最初的”Napster”的设计</p>
<ol>
<li>当对等方连接时,它告知中心服务器:<ol>
<li>IP地址</li>
<li>内容</li>
</ol>
</li>
<li>Alice查询”XXX.MP3”</li>
<li>Alice从Bob处请求文件</li>
<li>对等方下线时,告知服务器,不再接受文件请求</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215152811391.png" alt="image-20230215152811391"></p>
<p>集中式目录存在的问题</p>
<ol>
<li>单点故障(目录服务器故障)</li>
<li>性能瓶颈(服务器要维护所有在线的peer节点IP地址和内容)</li>
<li>侵犯版权(通过索引,很容易定位到个人)</li>
</ol>
<p>文件传输是分散的,而定位内容是高度集中的</p>
<h3 id="P2P-完全分布式"><a href="#P2P-完全分布式" class="headerlink" title="P2P:完全分布式"></a>P2P:完全分布式</h3><p>泛洪查询:Gnutella</p>
<ul>
<li>全分布式—没有中心服务器</li>
<li>随机生成一个overlay</li>
<li>开放文件共享协议</li>
<li>许多Gnutella客户端实现了Gnutella协议—类似HTTP有许多的浏览器</li>
</ul>
<p>覆盖网络(overlay):图</p>
<ul>
<li>如果X和Y之间有一个TCP连接,则二者之间存在一条边</li>
<li>所有活动的peer节点和边就是覆盖网络</li>
<li>边并不是物理链路(逻辑关系)</li>
<li>给定一个对等方,通常所连接的节点少于10个</li>
</ul>
<p>协议</p>
<ol>
<li>在已有的TCP连接上发送查询报文</li>
<li>对等方转发查询报文</li>
<li>以反方向返回查询命中报文</li>
<li>文件传输:HTTP</li>
<li>通过TTL限制查询的步数or记住已转发的查询,下次不再转发(防止无止境的查询)</li>
</ol>
<p>可扩展性:限制范围的泛洪查询(flooding)</p>
<p>对等方加入(如何建立overlay)</p>
<ol>
<li>对等方X必须首先发现一些已在overlay中的其他对等方—使用可用对等方列表<ul>
<li>自己维持一张对等方列表(经常在线的对等方IP)</li>
<li>联系维持列表的Gnutella站点</li>
</ul>
</li>
<li>X接着试图与该列表上的对等方建立TCP连接,直到与某个对等方Y建立连接</li>
<li>X向Y发送Ping报文,Y转发该报文</li>
<li>所有收到Ping报文的对等方以Pong报文回应(IP地址,共享文件的数量以及总字节数)</li>
<li>X收到许多Pong报文,然后就能从中随机挑一些节点建立其他TCP连接</li>
</ol>
<p>如果有些peer节点离开,与其连接的节点可以在选择一些节点进行连接,进而维护overlay</p>
<h3 id="P2P-混合体"><a href="#P2P-混合体" class="headerlink" title="P2P:混合体"></a>P2P:混合体</h3><p>利用不匀称性—KaZaA</p>
<ul>
<li>每个对等方要么是一个组长,要么隶属于一个组长<ul>
<li>对等方与其组长之间有TCP连接</li>
<li>组长对之间有TCP连接</li>
</ul>
</li>
<li>组长跟踪其所有孩子的内容</li>
<li>组长与其他组长联系<ul>
<li>转发查询到其他组长</li>
<li>获得其他组长的数据拷贝</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215160052295.png" alt="image-20230215160052295"></p>
<p>KaZaA:查询</p>
<ol>
<li>每个文件有一个散列标识码和一个描述符</li>
<li>客户端向其组长发送关键字查询</li>
<li>组长用匹配进行响应<ul>
<li>对每个匹配:元数据,散列标识码(Hash值)和IP地址</li>
</ul>
</li>
<li>如果组长将查询转发给其他组长,其他组长也以匹配进行响应</li>
<li>客户端选择要下载的文件<ul>
<li>向拥有文件的对等方发送一个带散列标识码的HTTP请求</li>
</ul>
</li>
</ol>
<p>P2P文件分发:BitTorrent</p>
<ul>
<li>文件被分为一个个块256KB,用一个bitmap表示当前节点具有哪些块(比如bitmap第一位为1,第二位为0,则当前节点具有该文件的第一块,不具有第二块)</li>
<li>网络中的这些peers发送接受文件块,相互服务</li>
<li>Torrent(洪流):节点的组,节点之间交换文件块.泛洪时,洪流节点之间交换bitmap</li>
<li>tracker:跟踪torrent中的参与节点(tracking server维护参与节点,而torrent文件中包含了tracking server的信息)</li>
<li>Peer加入Torrent:<ul>
<li>一开始没有块(bitmap全0),但是将会通过其他节点处累积文件块(此时随机请求)</li>
<li>向跟踪服务器注册,获得peer节点列表,和部分peer节点构成邻居关系(“连接”)</li>
</ul>
</li>
<li>当peer下载时,该peer可以同时向其他节点提供上载服务</li>
<li>Peer可能会变换用于交换块的peer节点</li>
<li>扰动churn:peer节点可能会上线或者下线</li>
<li>一旦一个peer拥有整个文件,它会(自私的)离开或者保留(利他主义)在torrent</li>
<li>拥有整个文件的节点称为种子</li>
</ul>
<p>新加入的节点拥有四个以上的块后,优先请求洪流中较稀缺的块(peer节点之间会优先给提供给自己文件块的节点提供文件块—即你对我好,我对你好.优先请求稀缺块一方面使得洪流中稀缺文件块的数量增多,一方面有利于使其他节点向新加入的节点提供文件,对整体个体均有利).为什么不一开始就请求稀缺的块?稀缺的块数量少,较难找到,先随机请求到一些文件块后,就可以向其他节点提供服务,进一步有利于其他节点向自己提供服务</p>
<p>请求块:</p>
<ul>
<li>在任何给定时间,不同peer节点拥有一个文件块的子集</li>
<li>周期性的,Alice节点向邻居询问他们拥有哪些块的信息</li>
<li>Alice向peer节点请求它希望的块,稀缺的块</li>
</ul>
<p>发送块:一报还一报 tit-for-tat</p>
<ul>
<li>Alice向4个peer发送块,这些块向它自己提供最大带宽的服务<ul>
<li>其他peer被Alice阻塞(将不会从Alice处获得服务)</li>
<li>每10秒重新评估一次:前4位</li>
<li>占2/3周期</li>
</ul>
</li>
<li>每个30秒:随机选择其他peer节点,向这个节点发送块<ul>
<li>“优化疏通”这个节点</li>
<li>新选择的节点可以加入这个top4 </li>
<li>占1/3周期</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215173058693.png" alt="image-20230215173058693"></p>
<h3 id="Distributed-Hash-Table-DHT"><a href="#Distributed-Hash-Table-DHT" class="headerlink" title="Distributed Hash Table(DHT)"></a>Distributed Hash Table(DHT)</h3><p>覆盖网络是有序的,故文件块的信息的维护也是有序的,能快速找到拥有文件块的peer节点</p>
<ul>
<li>哈希表</li>
<li>DHT方案</li>
<li>环型DHT以及覆盖网络</li>
<li>Peer波动</li>
</ul>
<h2 id="2-7-CDN"><a href="#2-7-CDN" class="headerlink" title="2.7 CDN"></a>2.7 CDN</h2><p>视频流化服务和CDN:上下文</p>
<p>视频流量:占据着互联网大部分的带宽</p>
<ul>
<li>Netflix,Youtube:占据37%,16%的ISP下行流量</li>
<li>~1B Youtube 用户,~75M Netflix 用户</li>
</ul>
<p>挑战: 规模性-如何服务这~1B用户?</p>
<ul>
<li>单个超级服务器无法提供服务</li>
</ul>
<p>挑战:异构性</p>
<ul>
<li>不同用户拥有不同的能力(例如: 有线接入和移动用户;带宽丰富和受限用户)</li>
</ul>
<p>解决方案: 分布式的,应用层面的基础设施(即CDN)</p>
<h3 id="多媒体-视频"><a href="#多媒体-视频" class="headerlink" title="多媒体:视频"></a>多媒体:视频</h3><p>视频:固定速度显示的图像序列(eg: 24 images/sec,即24帧)</p>
<p>网络视频特点:</p>
<ol>
<li>高码率:大于音频的十倍甚至九倍,高的网络带宽需求</li>
<li>可以被压缩</li>
<li>90%以上的网络流量是视频</li>
</ol>
<p>数字化图像:像素的阵列—每个像素被若干bits表示</p>
<p>编码:使用图像内和图像间的冗余来降低编码的比特数</p>
<ol>
<li>空间冗余(图像内)<ul>
<li>不是发送N个相同的颜色值,仅发送两个值:颜色和重复的个数N</li>
</ul>
</li>
<li>时间冗余(相邻的图像间)<ul>
<li>不是发送第i+1帧的全部编码,而仅发送和第i帧差别的地方</li>
</ul>
</li>
</ol>
<p>编码方式:</p>
<ol>
<li>CBR(constant bit rate):以固定速率编码</li>
<li>VBR(variable bit rate):视频编码速率随时间的变化而变化</li>
</ol>
<p>eg: </p>
<ul>
<li>MPEG1 (CD-ROM) 1.5Mbps</li>
<li>MPEG2 (DVD) 3-6Mbps</li>
<li>MPEG4 (互联网使用) &lt;1 Mbps</li>
</ul>
<h3 id="存储视频的流化服务-streaming-DASH"><a href="#存储视频的流化服务-streaming-DASH" class="headerlink" title="存储视频的流化服务(streaming): DASH"></a>存储视频的流化服务(streaming): DASH</h3><p>DASH: Dynamic ,Adaptive Streaming over HTTP</p>
<p>服务器:</p>
<ul>
<li>将视频文件分割成多个块</li>
<li>每个块独立存储(可以部署在不同服务器中),编码于不同码率(8-10种)</li>
<li>告示文件( manifest file):提供不同块的URL</li>
</ul>
<p>客户端:</p>
<ol>
<li>先获取告示文件</li>
<li>周期性地测量服务器到客户端的带宽</li>
<li>查询告示文件,在一个时刻请求一个块,HTTP头部指定字节范围<ul>
<li>如果带宽足够,选择最大码率的视频块</li>
<li>会话中的不同时刻,可以切换请求不同的编码块(取决于当时的可用带宽)</li>
</ul>
</li>
</ol>
<p>“智能”客户端:客户端自适应决定</p>
<ul>
<li>什么时候去请求块(不至于缓存”挨饿”,或者溢出)</li>
<li>请求什么编码速率的视频块(当带宽够用时,请求高质量的视频块)</li>
<li>哪里去请求块(可以向离自己近的服务器发送URL,或者向高可用带宽的服务器请求)</li>
</ul>
<p>CDN(Content Distribution Networks)</p>
<p>挑战:服务器如何通过网络向上百万用户同时流化视频内容(上百万视频内容)?</p>
<p>选择1:单个的,大的超级服务中心”mega-server”</p>
<ul>
<li>服务器到客户端路径上跳数较多,瓶颈链路的带宽小导致停顿</li>
<li>“二八规律”决定了网络同时充斥着同一个视频的多个拷贝,效率低(付费高,带宽浪费,效果差)</li>
<li>单点故障点,性能瓶颈</li>
<li>周边网络的拥塞</li>
<li>简单,但是不可扩展</li>
</ul>
<p>选项2:通过CDN,全网部署缓存节点,存储服务内容,就近为用户提供服务,提高用户体验</p>
<p>ICP通过购买CDN运营商所提供的CDN服务,进而提高提供的服务质量</p>
<ul>
<li>enter deep: 将CDN服务器深入到许多接入网(下层/local ISP)<ul>
<li>更接近用户,数量多,离用户近,管理困难</li>
<li>Akamai, 1700 个位置</li>
</ul>
</li>
<li>bring home:部署在少数(10个左右)关键位置(上层ISP),如将服务器簇安装于POP附件(离若干1st|SP POP较近)<ul>
<li>采用租用线路将服务器簇连接起来</li>
<li>Limelight</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011639201.png" alt="image-20230216011639201"></p>
<p>注意:域名服务器可以完成CDN的重定向</p>
<p>CDN特点:over the top—处于应用层且服务于网络边缘,将主机之间的通信作为一种服务向用户提供</p>
<p>OTT挑战:在拥塞的互联网上复制内容</p>
<ul>
<li>从哪个CDN节点中获取内容?</li>
<li>用户在网络拥塞时的行为?</li>
<li>在哪些CDN节点中存储什么内容?</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011821582.png" alt="image-20230216011821582"></p>
<h3 id="CDN-”简单”内容访问场景"><a href="#CDN-”简单”内容访问场景" class="headerlink" title="CDN:”简单”内容访问场景"></a>CDN:”简单”内容访问场景</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216013608248.png" alt="image-20230216013608248"></p>
<ol>
<li>Bob gets URL for video <a target="_blank" rel="noopener" href="http://netcinema.com/6Y7B23V">http://netcinema.com/6Y7B23V</a> from netcinema.com web page:Bob在网页上请求该视频</li>
<li>resolve <a target="_blank" rel="noopener" href="http://netcinema.com/6Y7B23V">http://netcinema.com/6Y7B23V</a> via Bob’s local DNS:浏览器向本地的DNS域名服务器请求该域名的IP地址</li>
<li>netcinema’s DNS returns URL <a target="_blank" rel="noopener" href="http://KingCDN.com/NetC6y&amp;B23V">http://KingCDN.com/NetC6y&amp;B23V</a> :本地DNS服务器请求到netcinema的DNS服务器,netcinema的DNS服务器重定向该域名到KingCDN服务器的域名,让其去找KingCDN的权威域名服务器</li>
<li>同5</li>
<li>Resolve <a target="_blank" rel="noopener" href="http://KingCDN.com/NetC6y&amp;B23">http://KingCDN.com/NetC6y&amp;B23</a> via KingCDN’s authoritative DNS, which returns IP address of KingCDN server with video(CDN簇选择策略):KingCDN的权威服务器给出,离客户最近的,CDN节点的IP地址</li>
<li>request video from KingCDN server streamed via HTTP:通过DASH接受视频的流化服务</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216014536990.png" alt="image-20230216014536990"></p>
<h2 id="2-8-TCP套接字编程"><a href="#2-8-TCP套接字编程" class="headerlink" title="2.8 TCP套接字编程"></a>2.8 TCP套接字编程</h2><h3 id="Socket编程"><a href="#Socket编程" class="headerlink" title="Socket编程"></a>Socket编程</h3><p>应用进程使用传输层提供的服务才能够交换报文,实现应用协议,实现应用</p>
<p>TCP/IP:应用进程使用Socket API访问传输服务</p>
<p>地点:界面上的SAP(Socket)</p>
<p>方式:Socket API</p>
<p>目标:学习如何构建能借助sockets进行通信的C/S应用程序</p>
<p>socket:分布式应用程序之间的门,传输层协议提供的端到端服务接口</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216020642595.png" alt="image-20230216020642595"></p>
<p>2种传输层服务的socket类型:</p>
<ol>
<li>TCP:可靠的,字节流的服务(保证bytestring是有序,无误的,但是不保证报文的界限,所以界限要应用层自己维护)</li>
<li>UDP:不可靠(UDP数据报)服务</li>
</ol>
<h3 id="TCP套接字编程"><a href="#TCP套接字编程" class="headerlink" title="TCP套接字编程"></a>TCP套接字编程</h3><p>套接字:应用进程与端到端传输协议(TCP或UDP)之间的门户</p>
<p>TCP服务:从一个进程向另一个进程可靠地传输字节流</p>
<p>服务器首先运行,等待连接建立:</p>
<p>1: 服务器进程必须先处于运行状态</p>
<ul>
<li>创建欢迎socket</li>
<li>和本地端口捆绑</li>
<li>在欢迎socket上阻塞式等待接受用户的连接</li>
</ul>
<p>3: 当与客户端连接请求到来时</p>
<ul>
<li>服务器接受来自用户端的请求,解除阻塞式等待,返回一个新的socket(与欢迎scket不一样),与客户端通信<ul>
<li>允许服务器与多个客户端通信</li>
<li>使用源IP和源端口来区分不同的客户端</li>
</ul>
</li>
</ul>
<p>客户端主动和服务器建立连接:</p>
<p>2: 创建客户端本地套接字(<strong>隐式</strong>捆绑到本地port)</p>
<ul>
<li>指定服务器进程的IP地址和端口号,与服务器进程连接</li>
</ul>
<p>4: 连接API调用有效时,客户端与服务器建立了TCP连接</p>
<p>从应用程序的角度:TCP在客户端和服务器进程之间提供了可靠的,字节流(管道)服务</p>
<p>C/S模式的应用样例:</p>
<ol>
<li>客户端从标准输入装置读取一行字符,发送给服务端</li>
<li>服务器从socket读取字符</li>
<li>服务器将字符转换成大写,然后返回给客户端</li>
<li>客户端从socket中读取行字符,然后打印出来</li>
</ol>
<h3 id="数据结构-sockaddr-in"><a href="#数据结构-sockaddr-in" class="headerlink" title="数据结构 sockaddr_in"></a>数据结构 sockaddr_in</h3><p>IP地址和port捆版关系的数据结构(标示进程的端节点)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span>&#123;</span></span><br><span class="line">    <span class="type">short</span> sin_family;<span class="comment">//AF_INET,地址簇</span></span><br><span class="line">    u_short sin_port;<span class="comment">//port</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span> <span class="title">sin_addr</span>;</span><span class="comment">//IP address,unsigned long</span></span><br><span class="line">    <span class="type">char</span> sin_zero[<span class="number">8</span>];<span class="comment">//align,对齐</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>sin_family:地址簇,表示你用在TCP/IP协议还是其他协议</p>
<p>sin_zero:其他协议地址可能较长,就需要sin_zero来补足</p>
<h3 id="数据结构hostent"><a href="#数据结构hostent" class="headerlink" title="数据结构hostent"></a>数据结构hostent</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span>&#123;</span></span><br><span class="line">    <span class="type">char</span> *h_name;</span><br><span class="line">    <span class="type">char</span> **h_aliases;</span><br><span class="line">    <span class="type">int</span> h_addrtype;</span><br><span class="line">    <span class="type">int</span> h_length; <span class="comment">/*地址长度*/</span></span><br><span class="line">    <span class="type">char</span> **h_addr_list;</span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> h_addr h_addr_list[0];</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>作为调用域名解析函数时的参数,返回后,将IP地址(即h_addr)拷贝到sockaddr_in的IP地址部分</p>
<p>h_name:存放主机的域名</p>
<p>h_aliases:主机的一系列别名</p>
<p>h_length:地址的长度</p>
<p>h_addr_list:IP地址的列表,第一个是解析出来的IP地址即h_addr</p>
<h3 id="C-S-socket交互-TCP"><a href="#C-S-socket交互-TCP" class="headerlink" title="C/S socket交互: TCP"></a>C/S socket交互: TCP</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216203924684.png" alt="image-20230216203924684"></p>
<p>socket()函数可选择参数来生成不同协议的socket(如TCP,UDP)</p>
<p>sad为服务器的IP,port信息,cad为客户端的IP,port信息</p>
<p>服务器的bind函数中sad的数据类型为sockaddr_in,bind将该socket与sad中的本地IP,端口号捆绑</p>
<p>服务器的accept函数中cad用来存储客户端的信息</p>
<p>客户端不需要调用bind—服务器bind是为了指定socket的端口号,以便于客户端连接,而客户端的端口号没有要求,故不用bind(会按照一定的规则给你分配一个没有用的端口)</p>
<p>客户端connect中sad存储的是服务器的IP地址和端口号</p>
<h3 id="例子-C客户端-TCP"><a href="#例子-C客户端-TCP" class="headerlink" title="例子:C客户端(TCP)"></a>例子:C客户端(TCP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205125094.png" alt="image-20230216205125094"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205351769.png" alt="image-20230216205351769"></p>
<h3 id="例子-C服务器-TCP"><a href="#例子-C服务器-TCP" class="headerlink" title="例子:C服务器(TCP)"></a>例子:C服务器(TCP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210045706.png" alt="image-20230216210045706"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210121381.png" alt="image-20230216210121381"></p>
<p>listen的第二个参数是规定welcome socket的请求队列大小(有多个连接请求,取出第一个后开始执行任务,此时后续的请求都存储在该队列中)</p>
<h2 id="2-9-UDP-socket"><a href="#2-9-UDP-socket" class="headerlink" title="2.9 UDP socket"></a>2.9 UDP socket</h2><h3 id="UDP套接字编程"><a href="#UDP套接字编程" class="headerlink" title="UDP套接字编程"></a>UDP套接字编程</h3><p>UDP:在客户端和服务器之间没有连接</p>
<ul>
<li>没有握手</li>
<li>发送端在每一个报文中明确地指定目标的IP地址和端口号</li>
<li>服务器必须从收到的分组中提取出发送端的IP地址和端口号</li>
</ul>
<p>UDP:传送的数据可能乱序,也可能丢失</p>
<p>远程视角看UDP服务:UDP为客户端和服务器提供不可靠的字节组的传送服务</p>
<p>UDP的数据单元一般叫datagram(数据报),要注意的是IP协议的数据单元也叫datagram,要根据上下文推断</p>
<h3 id="C-S-socket-交互-UDP"><a href="#C-S-socket-交互-UDP" class="headerlink" title="C/S socket 交互:UDP"></a>C/S socket 交互:UDP</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090307750.png" alt="image-20230218090307750"></p>
<p>UDP和TCP端口不同,即可占用同一个端口而互不影响</p>
<p>图片上recvfrom的意思是receivefrom</p>
<p>recvfrom若接受到信息,会一直阻塞在该函数</p>
<h3 id="样例-C客户端-UDP"><a href="#样例-C客户端-UDP" class="headerlink" title="样例:C客户端(UDP)"></a>样例:C客户端(UDP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090655156.png" alt="image-20230218090655156"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090747095.png" alt="image-20230218090747095"></p>
<h3 id="样例-C服务器-UDP"><a href="#样例-C服务器-UDP" class="headerlink" title="样例:C服务器(UDP)"></a>样例:C服务器(UDP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090912820.png" alt="image-20230218090912820"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090956022.png" alt="image-20230218090956022"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/02/25/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/02/25/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/" itemprop="url">离散对数和原根</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-02-25T18:39:49+08:00">
                2023-02-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">算法学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>我超,⚪!</p>
<p>因为看不懂网上的离散对数，所以来写篇blog梳理一下(</p>
<p>前置知识: 大概无？</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2023/02/25/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/02/20/CF1795G/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/02/20/CF1795G/" itemprop="url">CF1795G</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-02-20T16:39:39+08:00">
                2023-02-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>题目链接:<a target="_blank" rel="noopener" href="https://codeforces.com/contest/1795/problem/G">https://codeforces.com/contest/1795/problem/G</a></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2023/02/20/CF1795G/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/02/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/02/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-1/" itemprop="url">计算机网络笔记-1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-02-04T18:54:02+08:00">
                2023-02-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%AD%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">大学学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>链接:【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JV411t7ow/?share_source=copy_web&amp;vd_source=73fbe0896e57b2cec684ed480ce509da">https://www.bilibili.com/video/BV1JV411t7ow/?share_source=copy_web&amp;vd_source=73fbe0896e57b2cec684ed480ce509da</a></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2023/02/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0-1/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/01/04/cmake%E9%A3%9F%E7%94%A8%E6%8C%87%E5%8C%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/01/04/cmake%E9%A3%9F%E7%94%A8%E6%8C%87%E5%8C%97/" itemprop="url">cmake食用指北</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-01-04T01:10:18+08:00">
                2023-01-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>关于cmake的入门常识,不深究原理,能用就行.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2023/01/04/cmake%E9%A3%9F%E7%94%A8%E6%8C%87%E5%8C%97/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2022/11/18/CF104021D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/11/18/CF104021D/" itemprop="url">CF104021D</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-11-18T19:04:44+08:00">
                2022-11-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>进行一个莫比乌斯反的演</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2022/11/18/CF104021D/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2022/11/18/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/11/18/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/" itemprop="url">做题记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-11-18T01:25:52+08:00">
                2022-11-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">算法学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>一些记录</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2022/11/18/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2022/10/28/CF1732E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/10/28/CF1732E/" itemprop="url">CF1732E</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-10-28T18:21:35+08:00">
                2022-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>算法复健ing</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2022/10/28/CF1732E/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2022/10/27/%E5%B7%A6%E5%81%8F%E6%A0%91%E4%B8%8E%E5%8F%AF%E5%B9%B6%E5%A0%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2022/10/27/%E5%B7%A6%E5%81%8F%E6%A0%91%E4%B8%8E%E5%8F%AF%E5%B9%B6%E5%A0%86/" itemprop="url">左偏树,配对堆与可持久化可并堆</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2022-10-27T21:15:12+08:00">
                2022-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">算法学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>试图进行算法复健.jpg</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2022/10/27/%E5%B7%A6%E5%81%8F%E6%A0%91%E4%B8%8E%E5%8F%AF%E5%B9%B6%E5%A0%86/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/">&gt;</a>
  </nav>




          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1496089152&auto=0&height=66"></iframe>
      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/dyg-55" target="_blank" title="Zhihu">
                      
                        <i class="fa fa-fw fa-globe"></i>Zhihu</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友链
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://tangdouer.cn" title="糖豆儿" target="_blank">糖豆儿</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kanata</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
	//下面的HTML-CSS和SVG用于在小屏幕上，数学公式可以自动换行，我测试过后发现无效，但是貌似有人可以。
	"HTML-CSS": { 
		linebreaks: { 
			automatic: true 
		} 
	},SVG: {
		linebreaks: { 
			automatic: true 
		}
	},menuSettings: {
		zoom: "None"
	},
	showMathMenu: false,
	jax: ["input/TeX","output/CommonHTML"],
	extensions: ["tex2jax.js"],
	TeX: {
		extensions: ["AMSmath.js","AMSsymbols.js"],
		equationNumbers: {
			autoNumber: "AMS"
		}
	},tex2jax: {
		inlineMath: [["\\(", "\\)"]],
		displayMath: [["\\[", "\\]"]]
	}
});
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"scale":1.5,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/miku.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
