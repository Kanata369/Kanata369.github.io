<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/k(180x180).png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/k(32x32).png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/k(16x16).png?v=5.1.4">


  <link rel="mask-icon" href="/images/logok.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="链接:【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】 https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1JV411t7ow&#x2F;?share_source&#x3D;copy_web&amp;vd_source&#x3D;73fbe0896e57b2cec684ed480ce509da">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络笔记(1)">
<meta property="og:url" content="https://kanata369.github.io/2023/02/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0(1)/index.html">
<meta property="og:site_name" content="Kanata&#39;s blog">
<meta property="og:description" content="链接:【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】 https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1JV411t7ow&#x2F;?share_source&#x3D;copy_web&amp;vd_source&#x3D;73fbe0896e57b2cec684ed480ce509da">
<meta property="og:locale">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230204193225281.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230205214143652.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230207000556809.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230207004708590.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208014131159.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208124142248.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208125955902.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208130256951.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209160502098.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209153302352.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209164322234.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209164618968.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209165156200.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223217363.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223520677.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210224639940.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211000902980.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211001754767.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211002108695.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104736947.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104941790.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105101590.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105337489.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105927290.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211110406533.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211111656472.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211112348721.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115046218.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115255215.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120250652.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120642173.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211122624384.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123320343.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123658612.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230521890.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230917021.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211231544963.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212010439091.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212021940829.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022310493.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022901935.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023553599.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023737461.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024223079.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024513426.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024857692.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212222008441.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233246830.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233410434.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212234059946.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212235820190.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213001803651.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002257471.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002640061.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213005356746.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012048131.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012502634.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012553063.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013029474.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013123198.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013247740.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013709337.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001009697.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214002407656.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001638734.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215151721741.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215152811391.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215160052295.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215173058693.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011639201.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011821582.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216013608248.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216014536990.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216020642595.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216203924684.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205125094.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205351769.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210045706.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210121381.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090307750.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090655156.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090747095.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090912820.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090956022.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223100113960.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223101759285.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223101911827.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223102027656.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223102507925.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223104543262.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223105930147.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223110335755.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223110955563.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223111442837.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223111956528.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223112449483.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223112511642.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113014951.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113508171.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113650653.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223114456837.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223114851441.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141345669.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141405334.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141827476.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141851812.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223142256245.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223142902632.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223143351708.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223144628186.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223145606337.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223150546097.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223151440952.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223152058394.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223152817943.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223153239779.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223153811869.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154000012.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154140618.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154909864.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223155344966.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223155635506.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160106595.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160402573.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160823853.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223161400568.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223161759919.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163131488.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163056946.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163634823.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224175444325.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180411251.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180545223.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180921150.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224181400695.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224182042768.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224183105558.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224183327965.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225140249704.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141039317.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141248713.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141458179.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225142912828.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225143112205.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225143833761.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144453436.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144755237.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144951125.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225145145451.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225145421440.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150043512.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150300140.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150639856.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150945256.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225151455685.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225152459699.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225153349475.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225153752143.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225154139229.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225154633265.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225155834350.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160222368.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160521192.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160648117.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160954619.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225161100966.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225161840238.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225162420588.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225162548691.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225163124710.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225164602424.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230303165305564.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306124919075.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306125436218.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130150738.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130736526.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130923523.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131203459.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131255848.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131817274.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132117204.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132440982.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132650138.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306133430732.png">
<meta property="article:published_time" content="2023-02-04T10:54:02.000Z">
<meta property="article:modified_time" content="2023-03-06T05:47:09.719Z">
<meta property="article:author" content="Kanata">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230204193225281.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://Kanata369.github.io/2023/02/04/计算机网络笔记(1)/"/>





  <title>计算机网络笔记(1) | Kanata's blog</title>
  








<meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kanata's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://Kanata369.github.io/2023/02/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0(1)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kanata's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">计算机网络笔记(1)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-02-04T18:54:02+08:00">
                2023-02-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%AD%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">大学学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>链接:【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JV411t7ow/?share_source=copy_web&amp;vd_source=73fbe0896e57b2cec684ed480ce509da">https://www.bilibili.com/video/BV1JV411t7ow/?share_source=copy_web&amp;vd_source=73fbe0896e57b2cec684ed480ce509da</a></p>
<span id="more"></span>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230204193225281.png" alt="image-20230204193225281"></p>
<p>UDP协议:实时性要求高,可靠性(不出错,不重复,不缺漏,有序)要求不高</p>
<p>TCP协议:可靠性要求高,但会消耗时间和空间</p>
<h1 id="第一章-概论"><a href="#第一章-概论" class="headerlink" title="第一章 概论"></a>第一章 概论</h1><h2 id="1-1什么是互联网"><a href="#1-1什么是互联网" class="headerlink" title="1.1什么是互联网"></a>1.1什么是互联网</h2><p>物理层:传播的媒介,比如电磁波等等</p>
<p>链路层:点到点(point to point),实现相邻主机之间数据的传输</p>
<p>网络层:端到端(end to end),实现源主机到目标主机之间数据的传输,尽力而为,可能会失序,出错等等</p>
<p>传输层:将网络层从主机到主机,变成进程到进程,从不可靠,变成可靠.按照应用层协议交换应用报文,实现各种各样的应用</p>
<h3 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h3><p>主机节点:数据的源,数据的目标(比如联网的冰箱,手机,电脑等等),一般用矩形表示.</p>
<p>数据交换节点:数据的中转节点,既不是数据的源,也不是数据的目标(比如网路层的路由器,链路层的交换机,物理层的中继器),一般用圈表示</p>
<h3 id="边—通信链路"><a href="#边—通信链路" class="headerlink" title="边—通信链路"></a>边—通信链路</h3><p>接入网链路:主机连接到互联网的链路(方到圆)</p>
<p>主干链路:路由器间的链路(圆到圆)</p>
<p>有光纤,同轴电缆,无线电,卫星等等.其传输速率用带宽(bps)表示,即每秒传送多少位</p>
<h3 id="协议—对等层的实体-在通信的过程中-应该遵守的规则集合"><a href="#协议—对等层的实体-在通信的过程中-应该遵守的规则集合" class="headerlink" title="协议—对等层的实体,在通信的过程中,应该遵守的规则集合"></a>协议—对等层的实体,在通信的过程中,应该遵守的规则集合</h3><p>协议定义了在两个或多个通信实体之间交换的报文格式和次序,以及在报文传输和/或接受或其他事件方面所采取的动作</p>
<p>按层次不同可分成物理层协议,传输层协议等等.其中传输层协议有TCP,UDP.遵守同样协议的实体才能互相通信</p>
<p>从服务的角度看,TCP/IP协议提供的是面向连接的服务,UDP提供的是无连接的服务</p>
<hr>
<p>端系统(End system/host):PC,server等.由硬件系统,软件系统组成.</p>
<p>Internet标准的所有协议内容(包括TCP,UDP)都由IETF(Internet Engineering Task Force)以RFC(Request for comments)的形式在网站上公布(你向IETF提出新的想法,IETF进行公布,全球互联网专家针对该想法进行讨论,讨论也会在网站上公布)</p>
<h2 id="1-2网络边缘"><a href="#1-2网络边缘" class="headerlink" title="1.2网络边缘"></a>1.2网络边缘</h2><h3 id="网络结构"><a href="#网络结构" class="headerlink" title="网络结构:"></a>网络结构:</h3><ol>
<li>网络边缘/edge:主机,应用程序(客户端和服务器),即上一节中的方形</li>
<li>网络核心/core:互连着的路由器,网络的网络(即上一节中的圆形)</li>
<li>接入网系统/access:有线或者无线通信链路(即方形到圆形所连的边)</li>
</ol>
<h3 id="网络边缘"><a href="#网络边缘" class="headerlink" title="网络边缘"></a>网络边缘</h3><p>CS模式(客户端服务器模式)(客户端是从,服务器是主)</p>
<p>​    客户端向服务器请求,接收服务,如web浏览器/服务器,email客户端/服务器</p>
<p>​    问题:不可靠,不易拓展,(当请求数过多时效率会断崖式下降)</p>
<p>p2p模式(peer to peer/对等模式)</p>
<p>​    很少(甚至没有)专门的服务器,如Gnutella,KazaA,Emule</p>
<p>​    以磁链下载为例,下载一个文件,其他客户端可以向我请求该文件的一些片段,此时    我是充当服务器的角色,我也可以向其他用户请求文件的片段,此时我充当客户端    的角色.因此用户越多,客户端越多,服务器也越多.</p>
<p>网络边缘:采用网络设施的面向连接服务</p>
<p>目标:在端系统之间传输数据</p>
<p>握手:在数据传输之前做好准备,即两个通信主机之间为连接建立状态</p>
<p>TCP-传输控制协议(Transmission Control Protocol): Internet上面向连接的服务</p>
<p>TCP服务[RFC 793]:</p>
<ol>
<li>可靠地,按顺序地传送数据:确认和重传</li>
<li>流量控制:发送方不会淹没接收方</li>
<li>拥塞控制:当网络拥塞(交换节点处理不过来)时,发送方降低发送速率</li>
</ol>
<p>tips:面向连接与有连接不同,面向连接中连接的状态只在端系统维护,而有连接中,网络中的节点都维护连接的状态</p>
<p>网络边缘:采用基础设施的无连接服务</p>
<p>目标:在端系统之间传输数据</p>
<p>UDP-用户数据报协议(User Datagram Protocol)[RFC 768]:</p>
<ol>
<li>无连接</li>
<li>不可靠数据传输</li>
<li>无流量控制</li>
<li>无拥塞控制</li>
</ol>
<p>使用TCP的应用:HTTP(Web),FTP(文件传送),Telnet(远程登录),SMTP(email)</p>
<p>使用UDP的应用:流媒体,远程会议,DNS,Internet电话</p>
<h2 id="1-3-网络核心"><a href="#1-3-网络核心" class="headerlink" title="1.3 网络核心"></a>1.3 网络核心</h2><h3 id="网络核心-路由器的网状网络"><a href="#网络核心-路由器的网状网络" class="headerlink" title="网络核心:路由器的网状网络"></a>网络核心:路由器的网状网络</h3><p>基本问题:数据怎样通过网络进行传输</p>
<ol>
<li>电路交换:为每个呼叫预留一条专有电路,如电话网</li>
<li>分组交换:(1).将要传送的数据分成一个个单位—分组 (2).将分组从一个路由器传到相邻路由器(hop),一段段最终从源端传到目标端 (3).每段: 采用链路的最大传输能力(带宽)</li>
</ol>
<h3 id="网络核心-电路交换"><a href="#网络核心-电路交换" class="headerlink" title="网络核心:电路交换"></a>网络核心:电路交换</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230205214143652.png" alt="image-20230205214143652"></p>
<p>靠信令系统建立独享的线路,性能有保障,要求建立呼叫连接</p>
<p>网络资源(如带宽)被分成片(piece):1.为呼叫分配片;2.如果某个呼叫没有数据,则其资源片处于空闲状态(不共享); 3.将带宽分成片: 频分(Frequency-division multiplexing/FDM);时分(Time-division multiplexing/TDM);波分(Wave-division multiplexing/WDM)</p>
<h3 id="电路交换-FDM-TDM与WDM—将节点与节点之间的通信能力分割成小片-piece-的形式"><a href="#电路交换-FDM-TDM与WDM—将节点与节点之间的通信能力分割成小片-piece-的形式" class="headerlink" title="电路交换:FDM,TDM与WDM—将节点与节点之间的通信能力分割成小片(piece)的形式"></a>电路交换:FDM,TDM与WDM—将节点与节点之间的通信能力分割成小片(piece)的形式</h3><p>FDM:在一定的频率内,数据能够有效的传送,将这一段频率分成多个小段,每个小段即为piece</p>
<p>TDM:将通信能力分割成一个个大片的周期,在该周期中划分出一个个小片,即为piece</p>
<p>WDM:采用光纤通信,可用的波段分割成若干个小波段,小波段即为piece</p>
<p>eg:采用TDM的通信方式,带宽为1.536Mbps,一共有24个slot(时隙,即最小单位),则每个slot分到1.536Mbps/24=64kbps带宽</p>
<p>电路交换不适合计算机之间通信:</p>
<ol>
<li>连接建立时间长</li>
<li>计算机通信具有突发性，使用线路交换，浪费的piece较多</li>
<li>可靠性不高</li>
</ol>
<hr>
<h3 id="网络核心-分组交换"><a href="#网络核心-分组交换" class="headerlink" title="网络核心:分组交换"></a>网络核心:分组交换</h3><h4 id="以分组-packet-为单位存储-转发"><a href="#以分组-packet-为单位存储-转发" class="headerlink" title="以分组(packet)为单位存储-转发"></a>以分组(packet)为单位存储-转发</h4><p>​    网络带宽资源不再分为一个个片,传输时使用全部带宽</p>
<p>​    主机之间传输的数据被分成一个个分组,以packet为单位在交换节点中<strong>存储</strong>,转发</p>
<h4 id="资源共享-按需使用"><a href="#资源共享-按需使用" class="headerlink" title="资源共享,按需使用:"></a>资源共享,按需使用:</h4><p>存储 转发:分组每次移动—跳(hop)</p>
<ol>
<li>在转发之前,节点必须收到<strong>整个分组</strong></li>
<li>延迟比线路交换要大(因为交换节点要存储整个分组)</li>
<li>排队时间(多个分组都使用同一条边)</li>
<li>共享性,即按需使用</li>
</ol>
<p>eg1:一个长度为L bits的分组,一个速率为R bps的链路,其存储转发延时为L/R s(注意,分组的发送和接受是同一过程,故延时只用算一次)</p>
<p>eg2:如果到达速率&gt;链路的输出速率:1.分组将会排队,等待传输;2.如果路由器缓存用完了,分组将会被抛弃</p>
<hr>
<h3 id="网络核心的关键功能"><a href="#网络核心的关键功能" class="headerlink" title="网络核心的关键功能"></a>网络核心的关键功能</h3><p>路由: <strong>决定</strong>分组采用的源到目标的<strong>路径</strong>—路由算法</p>
<p>转发: 将分组从路由器的输入链路转移到输出链路</p>
<p>分组交换:统计多路复用—分组交换同样会采用时分,但其划分不是固定的,而是采用统计多路复用</p>
<p>总结:分组交换允许更多的用户使用网络</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230207000556809.png" alt="image-20230207000556809"></p>
<hr>
<h3 id="分组交换网络-存储-转发"><a href="#分组交换网络-存储-转发" class="headerlink" title="分组交换网络:存储-转发"></a>分组交换网络:存储-转发</h3><p>分组的存储转发一段段从源端传到目标端,按照<strong>有无网络层的连接</strong>,分成</p>
<p>数据报网络:</p>
<ol>
<li>分组的目标地址决定下一跳</li>
<li>在不同的阶段,路由可以改变</li>
<li>类似:问路,寄信(不用建立连接)</li>
<li>Internet</li>
</ol>
<p>虚电路网络:</p>
<ol>
<li>每个分组都带标签—虚电路标识 VC ID</li>
<li>在呼叫建立时,决定路径,在这整个呼叫中路径不变</li>
<li>路由器保持每个呼叫的状态信息</li>
<li>X.25和ATM</li>
</ol>
<p>数据报(datagram)的工作原理:</p>
<ol>
<li>在通信之前,无须建立起一个连接,有数据就传输</li>
<li>每个分组都独立路由(路径不一样,可能会失序)</li>
<li>路由器根据分组的目标地址进行路由</li>
</ol>
<p>虚电路(virtual circuit)的工作原理:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230207004708590.png" alt="image-20230207004708590"></p>
<p>通过建立虚电路表存储转发(注意虚电路号会发生变化)</p>
<p>回顾:TCP协议提供面向连接的服务,为何说是面向连接而不是有连接?这里的连接仅是针对端系统两个实体而言,中间的路由器不维护他们的状态</p>
<h2 id="1-4-接入网和物理媒体"><a href="#1-4-接入网和物理媒体" class="headerlink" title="1.4 接入网和物理媒体"></a>1.4 接入网和物理媒体</h2><h3 id="怎样将端系统和边缘路由器连接"><a href="#怎样将端系统和边缘路由器连接" class="headerlink" title="怎样将端系统和边缘路由器连接?"></a>怎样将端系统和边缘路由器连接?</h3><ol>
<li>住宅接入网络</li>
<li>单位接入网络(学校,公司)</li>
<li>无线接入网络</li>
</ol>
<p>注意:接入网络的带宽(bits per second)</p>
<p>共享/专用?</p>
<h3 id="住宅接入-modem"><a href="#住宅接入-modem" class="headerlink" title="住宅接入: modem"></a>住宅接入: modem</h3><p>早期时为运营公司为节省资源,复用电话线(只有4Khz),现在该方法已被淘汰</p>
<p>将上网数据调制加载音频信号上,在电话线上传输,在局端将其中的数据解调出来;反之亦然</p>
<ol>
<li>调频</li>
<li>调幅</li>
<li>调相位</li>
<li>综合调制</li>
</ol>
<p>拨号调制解调器</p>
<ol>
<li>56Kbps的速率直接接入路由器(通常更低)</li>
<li>不能同时上网和打电话: 不能总是在线</li>
</ol>
<h3 id="接入网-digital-subscriber-line-DSL"><a href="#接入网-digital-subscriber-line-DSL" class="headerlink" title="接入网: digital subscriber line(DSL)"></a>接入网: digital subscriber line(DSL)</h3><p>依然是采用电话线和调制解调的方式工作,但是使用的是4Khz以上的频率(4Khz以上的频率又分为两个部分,分别是上行和下行),语音,数据在共享线路的不同频段传输</p>
<p>采用现存的到交换局DSLAM的电话线:DSL线路上的数据被传送到互联网</p>
<h3 id="接入网-线缆网络"><a href="#接入网-线缆网络" class="headerlink" title="接入网: 线缆网络"></a>接入网: 线缆网络</h3><p>由有线电视公司的运营商提供的上网方式</p>
<p>将有线电视的线缆进行双向改造(原本是单向的),在进行电视广播的同时,将部分带宽用来传输互联网上行和下行的数据,还有些带宽用来控制.</p>
<p>住宅接入:电缆模式</p>
<h3 id="企业接入网络-Ethernet"><a href="#企业接入网络-Ethernet" class="headerlink" title="企业接入网络(Ethernet)"></a>企业接入网络(Ethernet)</h3><p>通过交换机的级联</p>
<p>端系统经常直接接到以太网络交换机上</p>
<hr>
<h3 id="无线接入网络-各无线端系统共享无线接入网络-端系统到无线路由器-通过基站或者叫接入点"><a href="#无线接入网络-各无线端系统共享无线接入网络-端系统到无线路由器-通过基站或者叫接入点" class="headerlink" title="无线接入网络:各无线端系统共享无线接入网络(端系统到无线路由器),通过基站或者叫接入点"></a>无线接入网络:各无线端系统共享无线接入网络(端系统到无线路由器),通过基站或者叫接入点</h3><ol>
<li>WLans(无线局域网)</li>
<li>广域无线接入:由电信运营商提供(cellular),范围达到10km</li>
</ol>
<hr>
<h3 id="物理媒体"><a href="#物理媒体" class="headerlink" title="物理媒体"></a>物理媒体</h3><p>Bit:在传输-接受对间传播</p>
<p>物理链路:在每个传输-接受对,跨越一种物理媒体</p>
<ol>
<li>导引型媒体:信号沿着固体媒介被导引,如同轴电缆,光纤,双绞线,传得较远</li>
<li>非导引型媒体:信号自由传播,如无线电,衰减得快</li>
</ol>
<p>双绞线(TP):两根绝缘铜线</p>
<ol>
<li>5类</li>
<li>6类:10Gbps</li>
</ol>
<p>同轴电缆:两根同心的铜导线</p>
<ol>
<li>双向</li>
<li>基带电缆:电缆上一个单个信道,Ethernet</li>
<li>宽带电缆:电缆上有多个信道,HFC</li>
</ol>
<p>光纤/光缆:</p>
<ol>
<li>光脉冲,每个脉冲表示一个bit,在玻璃纤维中传输</li>
<li>高速:点到点的高速传输(如10 Gbps-100 Gbps传输速率)</li>
<li>低误码率:在两个中继器之间可以有很长的距离,不受电磁噪声的干扰</li>
<li>安全</li>
</ol>
<p>无线链路:</p>
<ol>
<li>开放空间传输电磁波,携带要传输的数据</li>
<li>无需物理”线缆”</li>
<li>双向</li>
<li>传播环境效应:反射,吸收,干扰</li>
<li>类型:地面微波;LAN(eg:WIFI);wide-area(eg:蜂窝,3G cellular);卫星</li>
</ol>
<h2 id="1-5-Internet和ISP"><a href="#1-5-Internet和ISP" class="headerlink" title="1.5 Internet和ISP"></a>1.5 Internet和ISP</h2><h3 id="互联网网络结构-网络的网络"><a href="#互联网网络结构-网络的网络" class="headerlink" title="互联网网络结构:网络的网络"></a>互联网网络结构:网络的网络</h3><p>端系统通过接入ISPs(Internet Service Providers)连入到互联网—住宅,公司和大学的ISPs</p>
<p>接入ISPs相应的必须是互联的,因此任何两个端系统可相互发送分组到对方</p>
<p>导致”网络的网络”非常复杂—发展和演化是通过经济的和国家的政策来驱动的</p>
<p>问题:给定数百万接入ISPs,如何互联?—每两个ISPs直接相连,不可拓展,需要O(N^2)连接</p>
<p>选项:将每个接入ISP都连接到global ISP/全局ISP(全局范围内覆盖)—客户ISPs和提供者ISPs有经济合约</p>
<p>因为全局ISP是可行的业务,有利可图,所以会有竞争者,每个竞争者都提供ISP</p>
<p>同时ISP之间可以合作完成业务的拓展(可以连接到对方的access net),所以会存在peering link(即互联),对等互联的结算关系;或者多个ISP连接到Internet exchange point/IXP,完成流量的交换</p>
<p>ICP(Internet Content Provides):如谷歌,百度等,由于其也需要接入到ISPs提供服务,可能会部署自己的数据中心(Date Center/DC),构建自己的网络,将服务,内容更加地靠近端用户,向用户提供更好服务的同时,减少运营的支出</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208014131159.png" alt="image-20230208014131159"></p>
<h3 id="Internet结构-network-of-networks"><a href="#Internet结构-network-of-networks" class="headerlink" title="Internet结构: network of networks"></a>Internet结构: network of networks</h3><p>松散的层次模型</p>
<p>中心: 第一层ISP(如UUNet,BBN/Genuity,Sprint,AT&amp;T)国家/国际覆盖,速率极高(带宽很大),数量较少—直接与其他第一层ISP相连,与大量的第二层ISP和其他客户网络相连(通过peering link或IXP)</p>
<p>第二层ISP:更小些的(通常是区域性的)ISP—与一个或多个第一层ISPs,也可能与其他第二层ISP连接</p>
<p>第三层ISP(local ISP or access net):接入网(与端系统最近)</p>
<h2 id="1-6-分组延时-丢失和吞吐量"><a href="#1-6-分组延时-丢失和吞吐量" class="headerlink" title="1.6 分组延时,丢失和吞吐量"></a>1.6 分组延时,丢失和吞吐量</h2><h3 id="分组丢失和延时的原因"><a href="#分组丢失和延时的原因" class="headerlink" title="分组丢失和延时的原因"></a>分组丢失和延时的原因</h3><p>在路由器缓冲区的分组队列:</p>
<ol>
<li>分组到达链路的速率超过了链路输出的能力</li>
<li>分组等待排到队头,被传输(延时)</li>
<li>分组到达时,如果没有可用的缓冲区,则该分组被丢失(丢失)</li>
</ol>
<h3 id="四种分组延时"><a href="#四种分组延时" class="headerlink" title="四种分组延时"></a>四种分组延时</h3><h4 id="节点处理延时-nodal-processing"><a href="#节点处理延时-nodal-processing" class="headerlink" title="节点处理延时(nodal processing)"></a>节点处理延时(nodal processing)</h4><ol>
<li>检查bit级差错</li>
<li>检查分组首部和决定将分组导向何处</li>
</ol>
<h4 id="排队延时-queueing"><a href="#排队延时-queueing" class="headerlink" title="排队延时(queueing)"></a>排队延时(queueing)</h4><ol>
<li>在输出链路上等待传输的时间</li>
<li>依赖于路由器的拥塞程度</li>
</ol>
<h4 id="传输延时-transmission"><a href="#传输延时-transmission" class="headerlink" title="传输延时(transmission)"></a>传输延时(transmission)</h4><ol>
<li>R=链路带宽(bps)</li>
<li>L=分组长度(bits)</li>
<li>将分组发送到链路上的时间=L/R</li>
<li>存储转发延时</li>
</ol>
<h4 id="传播延时-propagation"><a href="#传播延时-propagation" class="headerlink" title="传播延时(propagation)"></a>传播延时(propagation)</h4><ol>
<li>d=物理链路的长度</li>
<li>s=在媒体上的传播速度(~2x10^8 m/sec)</li>
<li>传播延时=d/s</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208124142248.png" alt="image-20230208124142248"></p>
<h3 id="排队延时"><a href="#排队延时" class="headerlink" title="排队延时"></a>排队延时</h3><p>R=链路带宽(bps)</p>
<p>L=分组长度(bits)</p>
<p>a=分组到达队列的平均速率(单位时间内到达队列的分组个数)</p>
<p>流量强度=L*a/R(上下量纲一致),流量强度在0~1之间(不可能超过1)</p>
<ol>
<li>流量强度~0:平均排队延时很小</li>
<li>流量强度趋近于1:延时变得很大</li>
<li>流量强度&gt;1:bit到达队列的速率超过了从该队列输出的速率,平均排队延时将趋向无穷大(可以理解为分组会不断地累积)</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208125955902.png" alt="image-20230208125955902"></p>
<h3 id="Internet的延时和路由"><a href="#Internet的延时和路由" class="headerlink" title="Internet的延时和路由"></a>Internet的延时和路由</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230208130256951.png" alt="image-20230208130256951"></p>
<p>利用了ICMP(互联网控制报文协议),这个协议有很多数据包,其中有种数据包,其head包含IP头和控制字段,其body(即载荷)包含IP数据,控制字段中包含TTL(即time to live,生存时间),初始时TTL为一个有限值,每到达一个路由器,TTL减1,当TTL降为0时,数据包被丢弃,同时向数据源发送一个控制报文.TraceRoute程序就是利用TTL,得知路径上的交换节点与往返延迟(RTT/Round Trip Time),如查看第一个路由—TTL设为1.</p>
<h3 id="分组丢失"><a href="#分组丢失" class="headerlink" title="分组丢失"></a>分组丢失</h3><p>链路的队列缓冲区容量有限,当分组到达一个满的队列时,该分组将会丢失,丢失的分组可能会被前一个节点或源端系统重传,或根本不重传</p>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><p>在源端和目标端之间传输的速率(数据量/单位时间)</p>
<ol>
<li>瞬间吞吐量:在一个时间点的速率</li>
<li>平均吞吐量:在一个长时间内平均值</li>
</ol>
<p>遵循木桶效应(取带宽最小值)</p>
<p>瓶颈链路:端到端路径上,限制端到端吞吐的链路</p>
<p>注意计算吞吐量要考虑链路被多个服务复用,要/n</p>
<h2 id="1-7-协议层次和服务模型"><a href="#1-7-协议层次和服务模型" class="headerlink" title="1.7 协议层次和服务模型"></a>1.7 协议层次和服务模型</h2><h3 id="协议层次"><a href="#协议层次" class="headerlink" title="协议层次"></a>协议层次</h3><p>网络功能繁杂:数字信号的物理信号承载,点到点,路由,rdt,进程区分,应用等</p>
<p>现实来看,网络的许多构成元素和设备:</p>
<ol>
<li>主机</li>
<li>路由器</li>
<li>各种媒体的链路</li>
<li>应用</li>
<li>协议</li>
<li>硬件,软件</li>
</ol>
<p>问题是:如何组织和实现这个复杂的网络功能—采用分层的方式(调用仅发生在相邻层之间)</p>
<p>层次化方式实现复杂网络功能:</p>
<ol>
<li>将网络复杂的功能分成功能明确的层次,每一层实现了其中一个或一组功能,功能中有其上层可以使用的功能:服务(服务是功能的子集)</li>
<li>本层协议实体相互交互执行本层的协议动作,目的是实现本层功能,通过接口为上层提供更好的服务</li>
<li>在实现本层协议的时候,直接利用了下层所提供的服务</li>
<li>本层的服务:借助下层服务实现的本层协议实体之间交互带来的新功能(上层可以利用的)+更下层所提供的服务</li>
</ol>
<p>协议通过下层的服务实现,而协议的实现是为了给上层更好地提供服务</p>
<h3 id="服务与服务访问点"><a href="#服务与服务访问点" class="headerlink" title="服务与服务访问点"></a>服务与服务访问点</h3><p>服务(service):低层实体向上层实体提供它们之间通信的能力</p>
<ul>
<li>服务用户(service user)</li>
<li>服务提供者(service provider)</li>
</ul>
<p>原语(primitive):上层使用下层服务的形式,高层使用低层提供的服务,以及低层向高层提供服务都是通过服务访问原语来进行交互的—-形式</p>
<ul>
<li>比如socket API中的一系列函数</li>
</ul>
<p>服务访问点SAP(Services Access Point):上层使用下层提供的服务通过层间的接口—-地点</p>
<ul>
<li>例子:邮箱</li>
<li>地址(address):下层的一个实体支撑着上层的多个实体,SAP有<strong>标志不同上层实体</strong>的作用</li>
<li>可以有不同的实现,队列</li>
<li>例子:传输层的SAP: 端口(port)</li>
</ul>
<h3 id="服务的类型"><a href="#服务的类型" class="headerlink" title="服务的类型"></a>服务的类型</h3><p>面向连接的服务和无连接的服务</p>
<p>面向连接的服务(Connection-oriented Service)</p>
<ul>
<li>连接(Connection):两个通信实体为进行通信而建立的一种连接</li>
<li>面向连接的服务通信的过程:建立连接,通信,拆除连接</li>
<li>面向连接的服务的例子:网络层的连接被称为虚电路</li>
<li>适用范围:对于大的数据块要传输,不适合小的零星报文</li>
<li>特点:保序</li>
<li>服务类型:<ol>
<li>可靠的信息流 传送页面(可靠的获得,通过接收方的确认)</li>
<li>可靠的字节流 远程登录</li>
<li>不可靠的连接 数字化声音</li>
</ol>
</li>
</ul>
<p>无连接的服务(Connectionless Service)</p>
<ul>
<li>无连接服务:两个对等实体在通信前不需要建立一个连接,不预留资源;不需要通信双方都活跃;(例:寄信)</li>
<li>特点:不可靠,可能重复,可能失序</li>
<li>IP分组,数据包</li>
<li>适用范围:适合传送零星数据</li>
<li>服务类型:<ol>
<li>不可靠的数据报 电子方式的函件</li>
<li>有确认的数据报 挂号信</li>
<li>请求回答 信息查询</li>
</ol>
</li>
</ul>
<h3 id="服务与协议"><a href="#服务与协议" class="headerlink" title="服务与协议"></a>服务与协议</h3><p>服务与协议的区别</p>
<ul>
<li>服务(service):低层实体向上层实体提供它们之间的通信的能力,是通过原语(primitive)来操作的,垂直</li>
<li>协议(protocol):对等层实体(peer entity)之间在相互通信的过程中,需要遵循的规则的集合,水平</li>
</ul>
<p>服务与协议的联系</p>
<ul>
<li>本层协议的实现要靠下层提供的服务来实现</li>
<li>本层实体要通过协议为上层提供更高级的服务</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209160502098.png" alt="image-20230209160502098"></p>
<p>数据单元(DU)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209153302352.png" alt="image-20230209153302352"></p>
<p>SDU即上层需要传递的数据,ICI即控制信息,两者合并成为PDU(SDU过大时,可能会拆解成多个部分,再和ICI合并成为多个PDU)(同理,SDU非常小时,多个SDU也可能发生合并)</p>
<p>PDU即协议数据单元,每一层的PDU可能有其特殊的称呼,如应用层的PDU被称为应用报文(message),传输层的PDU被称为报文段/段(segment),网络层的PDU被称为分组(如果网络层以无连接的方式工作,又称为数据报/IP数据报),链路层的PDU称为帧(frame),物理层的比较含糊,位之类的都可以</p>
<h3 id="分层处理和实现复杂系统的好处"><a href="#分层处理和实现复杂系统的好处" class="headerlink" title="分层处理和实现复杂系统的好处"></a>分层处理和实现复杂系统的好处</h3><p>对付复杂的系统</p>
<ul>
<li>概念化:结构清晰,便于标示网络组件,以及描述其相互关系—分层参考模型</li>
<li>结构化:模块化更易于维护和系统升级<ol>
<li>改变某一层服务的实现不影响系统中的其他层次—对于其他层次而言是透明的</li>
<li>如改变登机程序并不影响系统的其他部分—改变2个秘书使用的通信方式不影响2个翻译的工作</li>
</ol>
</li>
</ul>
<h3 id="Internet协议栈"><a href="#Internet协议栈" class="headerlink" title="Internet协议栈"></a>Internet协议栈</h3><ol>
<li>应用层:网络应用<ul>
<li>为人类用户或其他应用进程提供网络应用服务</li>
<li>FTP,SMTP,HTTP,DNS</li>
</ul>
</li>
<li>传输层:主机之间的数据传输<ul>
<li>在网络层提供的端到端通信基础上,细分为进程到进程,将不可靠的通信变成可靠的通信</li>
<li>TCP,UDP</li>
</ul>
</li>
<li>网络层:为数据报从源到目的选择路由<ul>
<li>主机之间的通信,端到端通信,不可靠</li>
<li>IP,路由协议</li>
</ul>
</li>
<li>链路层:相邻网络节点间的数据传输<ul>
<li>2个相邻节点的通信,点到点通信,可靠或不可靠</li>
<li>点对点协议PPP,802.11(wifi),Ethernet</li>
</ul>
</li>
<li>物理层:在线路上传送bit</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209164322234.png" alt="image-20230209164322234"></p>
<p>(这两层的功能在协议栈中交给应用层去做)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209164618968.png" alt="image-20230209164618968"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230209165156200.png" alt="image-20230209165156200"></p>
<h2 id="1-8-历史"><a href="#1-8-历史" class="headerlink" title="1.8 历史"></a>1.8 历史</h2><h3 id="早期-1960以前-计算机网络"><a href="#早期-1960以前-计算机网络" class="headerlink" title="早期(1960以前)计算机网络"></a>早期(1960以前)计算机网络</h3><ul>
<li>线路交换网络</li>
<li>线路交换的特性使得其不适合计算机之间的通信<ol>
<li>线路建立时间过长</li>
<li>独享方式占用通信资源,不适合突发性很强的计算机之间的通信</li>
<li>可靠性不高:非常不适合军事通信</li>
</ol>
</li>
<li>三个小组独立地开展分组交换的研究<ol>
<li>1961: Kleinrock(MIT),排队论,展现了分组交换的有效性</li>
<li>1964:Baran(美国兰德公司)-军用网络上的分组交换</li>
<li>1964:Donald(英国)等,NPL</li>
</ol>
</li>
</ul>
<h3 id="1961-1972-早期的分组交换概念"><a href="#1961-1972-早期的分组交换概念" class="headerlink" title="1961-1972:早期的分组交换概念"></a>1961-1972:早期的分组交换概念</h3><ul>
<li>1967:美国高级研究计划研究局考虑ARPAnet(Kleinrock在MIT的同事)</li>
<li>1969:第一个ARPAnet节点开始工作,UCLA(IMP:接口报文处理机)</li>
<li>1969年底:4个节点</li>
<li>1972:<ol>
<li>ARPAnet公众演示</li>
<li>网络控制协议是第一个端系统直接的主机-主机协议<ol>
<li>NCP协议:相当于传输层和网络层在一起,支持应用开发(TCP+IP协议)</li>
</ol>
</li>
<li>第一个e-mail程序(BBN)</li>
<li>ARPAnet有15个节点</li>
</ol>
</li>
</ul>
<h3 id="1972-1980-专用网络和网络互联"><a href="#1972-1980-专用网络和网络互联" class="headerlink" title="1972-1980:专用网络和网络互联"></a>1972-1980:专用网络和网络互联</h3><ul>
<li>出现了很多对以后来说重要的网络形式<ol>
<li>1970:ALOHAnet,夏威夷上的微波网络</li>
<li>1973:Metcalfe在博士论文中提出了Ethernet</li>
<li>ATM网络</li>
<li>ALOHAnet,Telenet,Cyclades法国等</li>
</ol>
</li>
<li>1970后期,网络体系结构的必要性<ol>
<li>专用的体系结构:DECnet,SNA,XNA</li>
<li>标准化的体系结构</li>
</ol>
</li>
<li>1974:网际互联的Cerf and Kahn 体系结构</li>
<li>1979:ARPAnet的规模在持续增加,体系结构也在酝酿着变化,以支持网络互联和其他目的(性能)需求<ol>
<li>节点数目增加,有200个节点</li>
</ol>
</li>
</ul>
<p>Cerf and Kahn网络互联原则(定义了今天的Internet体系结构):</p>
<ol>
<li>极简,自治</li>
<li>尽力而为(best effort)服务模型(在TCP协议再实现可靠性)</li>
<li>无状态的路由器</li>
<li>分布控制</li>
</ol>
<p>采用哪种网络解决方案?</p>
<ol>
<li>ISO/OSI网络互连方案<ol>
<li>需要销毁旧设备,成本大</li>
<li>实现起来效率低</li>
</ol>
</li>
<li>Cerg and Kahn网络互联原则<ol>
<li>覆盖性,原有设备仍可使用</li>
<li>极具包容性</li>
</ol>
</li>
</ol>
<p>1983年,ARPAnet所有设备停机,做软件升级,从NCP协议变成TCP/IP协议栈</p>
<h3 id="1980-1990-体系结构变化-网络数量激增-应用丰富"><a href="#1980-1990-体系结构变化-网络数量激增-应用丰富" class="headerlink" title="1980-1990:体系结构变化,网络数量激增,应用丰富"></a>1980-1990:体系结构变化,网络数量激增,应用丰富</h3><ul>
<li>1983:TCP/IP部署,标记日<ol>
<li>NCP分化成2个层次,TCP/IP,从而出现UDP</li>
<li>覆盖式IP解决网络互联问题</li>
<li>主机设备和网络交换设备分开</li>
</ol>
</li>
<li>1982:smtp e-mail协议定义</li>
<li>1983:DNS定义,完成域名到IP地址的转换</li>
<li>1985: ftp协议定义</li>
<li>1988:TCP拥塞控制</li>
<li>其他网络形式的发展<ol>
<li>新的国家级网络:Csnet,BITnet,NSFnet,Minitel</li>
<li>1985年:ISO/OSI提出,时机不对且太繁琐</li>
</ol>
</li>
<li>100000主机连接到网络联邦</li>
</ul>
<h3 id="1990-2000’s-商业化-Web-新的应用"><a href="#1990-2000’s-商业化-Web-新的应用" class="headerlink" title="1990,2000’s :商业化,Web,新的应用"></a>1990,2000’s :商业化,Web,新的应用</h3><ul>
<li>1990年代初:NSF对ARPAnet的访问网,双主干,ARPAnet退役</li>
<li>1991:NSF放宽了对NSFnet用于商业目的的限制(1995退役),ASFNET非盈利性机构维护,后面叫Internet</li>
<li>UNIX中TCP/IP的免费捆绑</li>
<li>1990年代初:Web<ul>
<li>hypertext[Bush 1945,Nelson 1960’s]</li>
<li>HTML,HTTP:Berners-Lee</li>
<li>1994:Mosaic(Netscape,andreesen)</li>
<li>1990年代后期:Web的商业化</li>
</ul>
</li>
<li>1990后期-21世纪<ul>
<li>TCP/IP体系结构的包容性,在其上部署应用便捷,出现非常多的应用</li>
<li>新一代杀手级应用(即时讯息,P2P文件共享,社交网络等)更进一部促进互联网的发展</li>
<li>安全问题不断出现和修订(互联网的补丁对策)</li>
<li>2001网络泡沫,使得一些好公司沉淀下来(谷歌,微软,苹果,Yahoo,思科)</li>
<li>主干网的速率达到Gbps</li>
</ul>
</li>
</ul>
<h3 id="2005-现在"><a href="#2005-现在" class="headerlink" title="2005-现在"></a>2005-现在</h3><ul>
<li>~50亿主机:包括智能手机和平板</li>
<li>宽带接入的快速部署</li>
<li>高速无线接入无处不在:移动互联时代<ul>
<li>4G部署,5G蓄势待发</li>
<li>带宽大,终端性能高,价格便宜,应用不断增多</li>
</ul>
</li>
<li>在线社交网络等新型应用的出现<ul>
<li>Facebook:十亿用户</li>
<li>微信,QQ:数十亿用户</li>
</ul>
</li>
<li>服务提供商(Google, Microsoft)创建他们自己的网络<ul>
<li>通过提供自己的专用网络提供对搜索,视频内容和电子邮件的即刻访问</li>
</ul>
</li>
<li>电子商务,大学,企业在云中运行他们的服务(eg,Amazon EC2)</li>
<li>体系结构酝酿着大的变化,未来网络蠢蠢欲动</li>
</ul>
<h1 id="第二章-应用层"><a href="#第二章-应用层" class="headerlink" title="第二章 应用层"></a>第二章 应用层</h1><h2 id="2-1-应用层原理"><a href="#2-1-应用层原理" class="headerlink" title="2.1 应用层原理"></a>2.1 应用层原理</h2><h3 id="创建一个新的网络应用"><a href="#创建一个新的网络应用" class="headerlink" title="创建一个新的网络应用"></a>创建一个新的网络应用</h3><p>编程</p>
<ul>
<li>在不同的端系统上运行</li>
<li>通过网络基础设施提供的服务,应用进程彼此通信</li>
<li>如Web:Web服务器软件与浏览器软件通信</li>
</ul>
<p>网络核心中没有应用层软件</p>
<ul>
<li>网络核心没有应用层功能</li>
<li>网络应用只在端系统上存在,快速网络应用开发和部署</li>
</ul>
<h3 id="网络应用的体系架构"><a href="#网络应用的体系架构" class="headerlink" title="网络应用的体系架构"></a>网络应用的体系架构</h3><p>可能的应用架构:</p>
<ol>
<li>客户-服务器模式(C/S: client/server)</li>
<li>对等模式(P2P: Peer To Peer)</li>
<li>混合体: 客户-服务器和对等体系结构</li>
</ol>
<p>客户-服务器(C/S) 体系结构</p>
<p>服务器:</p>
<ul>
<li>一直运行</li>
<li>固定的IP地址和周知的端口号(约定)</li>
<li>扩展性:服务器场<ul>
<li>数据中心进行扩展</li>
<li>扩展性差</li>
</ul>
</li>
</ul>
<p>客户端:</p>
<ul>
<li>主动与服务器通信</li>
<li>与互联网有间歇性的连接</li>
<li>可能是动态IP地址</li>
<li>不直接与其他客户端通信</li>
</ul>
<p>对等体(P2P)体系结构</p>
<ul>
<li>(几乎)没有一直运行的服务器</li>
<li>任意端系统之间可以进行通信</li>
<li>每一个节点既是客户端又是服务器<ul>
<li>自扩展性-新peer节点带来新的服务能力,当然也带来新的服务请求</li>
</ul>
</li>
<li>参与的主机间歇性连接且可以改变IP地址<ul>
<li>难以管理</li>
</ul>
</li>
<li>例子:Gnutella,迅雷</li>
</ul>
<p>C/S和P2P体系结构的混合体</p>
<p>Napster</p>
<ul>
<li>文件搜索:集中<ul>
<li>主机在中心服务器上注册其资源</li>
<li>主机向中心服务器查询资源位置</li>
</ul>
</li>
<li>文件传输:P2P<ul>
<li>任意Peer节点之间</li>
</ul>
</li>
</ul>
<p>即时通信</p>
<ul>
<li>在线检测:集中<ul>
<li>当用户上线时,向中心服务器注册其IP地址</li>
<li>用户与中心服务器联系,以找到其在线好友的位置</li>
</ul>
</li>
<li>两个用户之间聊天:P2P</li>
</ul>
<h3 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h3><p>进程:在主机上运行的应用程序</p>
<ul>
<li>在同一个主机内,使用进程间通信机制通信(操作系统定义)</li>
<li>不同主机,通过交换报文(Message)来通信<ol>
<li>使用OS提供的通信服务(如管道,消息队列,共享缓冲区)</li>
<li>按照应用协议交换报文—借助传输层提供的服务</li>
</ol>
</li>
<li>注意: P2P架构的应用也有客户端进程和服务器进程之分</li>
</ul>
<p>客户端进程:发起通信的进程</p>
<p>服务器进程:等待连接的进程</p>
<h3 id="分布式进程通信需要解决的问题"><a href="#分布式进程通信需要解决的问题" class="headerlink" title="分布式进程通信需要解决的问题"></a>分布式进程通信需要解决的问题</h3><ol>
<li>进程标示和寻址问题(服务用户)</li>
<li>传输层-应用层提供服务是如何(服务)<ul>
<li>位置:层间界面的SAP(TCP/IP:socket)</li>
<li>形式:应用程序接口API(TCP/IP:socket API)</li>
</ul>
</li>
<li>如何使用传输层提供的服务,实现应用进程之间的报文交换,实现应用(用户使用服务)<ul>
<li>定义应用层协议:报文格式,解释,时序等</li>
<li>编制程序,使用OS提供的API,调用网络基础设施提供通信服务传报文,实现应用时序等</li>
</ul>
</li>
</ol>
<h3 id="问题1-对进程进行编制-addressing"><a href="#问题1-对进程进行编制-addressing" class="headerlink" title="问题1:对进程进行编制(addressing)"></a>问题1:对进程进行编制(addressing)</h3><ul>
<li>进程为了接受报文,必须有一个标示,即:SAP(发送也需要标示)<ul>
<li>主机:唯一的32位IP地址—仅仅有IP地址不能够唯一标示一个进程:在一台端系统上有很多应用进程在运行</li>
<li>所采用的传输层协议:TCP or UDP</li>
<li>端口号(Port Numbers)</li>
</ul>
</li>
<li>一些知名端口号<ul>
<li>HTTP:TCP 80</li>
<li>Mail:TCP 25</li>
<li>ftp:TCP 2</li>
</ul>
</li>
<li>一个进程:用IP+port标示端节点(如果多个进程争抢同一端口?—socket不仅包含端口信息,其实是一种对话关系,B可以同时和A,和C在xx端口建立通信,同一端口可以复用,但注意socket所代表的四元组不能完全相同)</li>
<li>本质上,一对主机进程之间的通信由2个端节点(end point)构成</li>
</ul>
<h3 id="问题2-传输层提供的服务-需要穿过层间的信息"><a href="#问题2-传输层提供的服务-需要穿过层间的信息" class="headerlink" title="问题2:传输层提供的服务-需要穿过层间的信息"></a>问题2:传输层提供的服务-需要穿过层间的信息</h3><ul>
<li>层间接口必须要携带的信息<ul>
<li>要传输的报文(对于本层来说:SDU)</li>
<li>谁传的:对方的应用进程的标示:IP+TCP(UDP)端口</li>
<li>传给谁:对方的应用进程的标示:对方的IP+TCP(UDP)端口</li>
</ul>
</li>
<li>传输层实体(tcp或者udp实体)根据这些信息进行TCP报文段(UDP数据报)的封装<ul>
<li>源端口号,目标端口号,数据等</li>
<li>将IP地址往下交IP实体,用于封装IP数据报:源IP,目标IP</li>
</ul>
</li>
</ul>
<h3 id="问题2-传输层提供的服务-层间信息的代表"><a href="#问题2-传输层提供的服务-层间信息的代表" class="headerlink" title="问题2:传输层提供的服务-层间信息的代表"></a>问题2:传输层提供的服务-层间信息的代表</h3><ul>
<li>如果Socket API每次传输报文,都携带如此多的信息,太繁杂易错,不便于管理</li>
<li>用个代号标示通信的双方或者单方:socket</li>
<li>就像OS打开文件返回的句柄一样—对句柄的操作,就是对文件的操作</li>
<li>TCP socket:<ul>
<li>TCP服务,两个进程之间的通信需要之前要建立连接—两个进程通信会持续一段时间,通信关系稳定</li>
<li>可以用一个整数表示两个应用实体之间的通信关系,<strong>本地标示</strong></li>
<li>穿过层间接口的信息量最小(原本至少要传4个字符串参数,现在只用传一个整数参数)</li>
<li>TCP socket:源IP,源端口,目标IP,目标端口</li>
</ul>
</li>
</ul>
<p>TCP之上的套接字(socket)</p>
<p>对于使用面向连接服务(TCP)的应用而言,套接字是4元组的一个具有本地意义的标示</p>
<ul>
<li>4元组:(源IP,源port,目标IP,目标port)</li>
<li>唯一的指定了一个会话(2个进程之间的会话关系)</li>
<li>应用使用这个标标示,与远程的应用进程通信</li>
<li>不必在每一个报文的发送都要指定这4元组</li>
<li>就像使用操作系统打开一个文件,OS返回一个文件句柄一样,以后使用这个文件句柄,而不是使用这个文件的目录名,文件名(因此压缩传过层间接口的信息量)</li>
<li>简单,便于管理</li>
</ul>
<hr>
<p>UDP socket:</p>
<ul>
<li>UDP服务,两个进程之间的通信需要之前无需建立连接<ul>
<li>每个报文都是独立传输的</li>
<li>前后报文可能给不同的分布式进程</li>
</ul>
</li>
<li>因此,只能用一个整数表示本应用实体的标示<ul>
<li>因为这个报文可能传给另外一个分布式进程</li>
</ul>
</li>
<li>穿过层间接口的信息大小最小</li>
<li>UDP socket:本IP,本端口</li>
<li>但是传输报文时,必须要提供对方IP,port<ul>
<li>接受报文时:传输层需要上传对方的IP,port</li>
</ul>
</li>
</ul>
<p>UDP之上的套接字(socket)</p>
<p>对于使用无连接服务(UDP)的应用而言,套接字是2元组的一个具有本地意义的标示</p>
<ul>
<li>2元组:IP, port(源端指定)</li>
<li>UDP套接字指定了应用所在的一个端节点(end point)</li>
<li>在发送数据报时,采用创建好的本地套接字(标示ID),就不必在发送每个报文中指明自己所采用的ip和port</li>
<li>但是在发送报文时,必须要指定对方的ip和udp port(另外一个端节点)</li>
</ul>
<h3 id="问题3-如何使用传输层提供的服务实现应用"><a href="#问题3-如何使用传输层提供的服务实现应用" class="headerlink" title="问题3:如何使用传输层提供的服务实现应用"></a>问题3:如何使用传输层提供的服务实现应用</h3><ul>
<li>定义应用层协议:报文格式,解释,时序等</li>
<li>编制程序,通过API调用网络基础设施提供通信服务传报文,解析报文,实现应用时序等</li>
</ul>
<p>应用层协议</p>
<ul>
<li>定义了:运行在不同端系统上的应用进程如何相互交换报文<ol>
<li>交换的报文类型:请求和应答报文</li>
<li>各种报文类型的语法:报文中的各个字段及其描述</li>
<li>字段的语义:即字段取值的含义</li>
<li>进程何时,如何发送报文及对报文进行响应的规则</li>
</ol>
</li>
<li>应用协议仅仅是应用的一个组成部分<ol>
<li>Web应用:HTTP协议,web客户端,web服务器,HTML</li>
</ol>
</li>
<li>公开协议:<ol>
<li>由RFC文档定义</li>
<li>允许互操作</li>
<li>如HTTP,SMTP</li>
</ol>
</li>
<li>专用(私有协议):<ul>
<li>协议不公开</li>
<li>如:Skype</li>
</ul>
</li>
</ul>
<p>应用需要传输层提供什么样的服务?</p>
<ul>
<li>数据丢失率<ul>
<li>有些应用要求100%的可靠数据传输(如文件)</li>
<li>有些应用(如音频)能容忍一定比例以下的数据丢失</li>
</ul>
</li>
<li>延迟<ul>
<li>一些应用出于有效性考虑,对数据传输有严格的时间限制<ol>
<li>Internet电话,交互式游戏</li>
<li>延迟,延迟差</li>
</ol>
</li>
</ul>
</li>
<li>吞吐<ul>
<li>一些应用(如多媒体)必须需要最小限度的吞吐,从而使得应用能够有效运转</li>
<li>一些应用能充分利用可供使用的吞吐(弹性应用)</li>
</ul>
</li>
<li>安全性<ul>
<li>机密性</li>
<li>完整性</li>
<li>可认证性(鉴别)</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223217363.png" alt="image-20230210223217363"></p>
<p>(视频应为100kbps~5Mbps)</p>
<h3 id="Internet传输层提供的服务"><a href="#Internet传输层提供的服务" class="headerlink" title="Internet传输层提供的服务"></a>Internet传输层提供的服务</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210223520677.png" alt="image-20230210223520677"></p>
<h3 id="UDP存在的必要性"><a href="#UDP存在的必要性" class="headerlink" title="UDP存在的必要性"></a>UDP存在的必要性</h3><ul>
<li>能够区分不同的进程,而IP服务不同(在IP提供的主机到主机端到端的基础上,区分了主机的应用进程)</li>
<li>无需建立连接,省去了建立连接时间,适合事务性的应用</li>
<li>不做可靠性的工作,例如检错重发,适合那些对实时性要求比较高而对正确性要求不高的应用—因为为了实现可靠性(准确性,保序等),必须付出时间代价(检错重发)</li>
<li>没有拥塞控制和流量控制,应用能够按照设定的速度发送数据—而在TCP上的应用,应用发送数据的速度和主机向网络发送的实际速度是不一致的,因为有流量控制和拥塞控制</li>
</ul>
<h3 id="Internet应用及其应用层协议和传输协议"><a href="#Internet应用及其应用层协议和传输协议" class="headerlink" title="Internet应用及其应用层协议和传输协议"></a>Internet应用及其应用层协议和传输协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230210224639940.png" alt="image-20230210224639940"></p>
<h3 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h3><p>TCP&amp;UDP</p>
<ul>
<li>都没有加密</li>
<li>明文通过互联网传输,甚至密码</li>
</ul>
<p>SSL</p>
<ul>
<li>在TCP上面实现,提供加密的TCP连接</li>
<li>私密性</li>
<li>数据完整性</li>
<li>端到端的鉴别</li>
</ul>
<p>SSL在应用层</p>
<ul>
<li>应用采用SSL库,SSL库使用TCP通信</li>
</ul>
<p>SSL socket API</p>
<ul>
<li>应用通过API将明文交给socket,SSL将其加密在互联网上传输</li>
<li>详见第8章</li>
</ul>
<h2 id="2-2-Web-and-HTTP"><a href="#2-2-Web-and-HTTP" class="headerlink" title="2.2 Web and HTTP"></a>2.2 Web and HTTP</h2><p>一些术语:</p>
<ul>
<li>Web页:由一些对象组成</li>
<li>对象可以是HTML文件,JPEG图像,Java小程序,声音剪辑文件等</li>
<li>Web页含有一个基本的HTML文件,该基本HTML文件又包含若干对象的引用(链接)</li>
<li>通过URL(通用资源定位符)对每个对象进行引用<ul>
<li>访问协议,用户名,口令字,端口等</li>
</ul>
</li>
<li>URL格式:</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211000902980.png" alt="image-20230211000902980"></p>
<h3 id="HTTP概况"><a href="#HTTP概况" class="headerlink" title="HTTP概况"></a>HTTP概况</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211001754767.png" alt="image-20230211001754767"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211002108695.png" alt="image-20230211002108695"></p>
<p>服务器存在一个等待socket负责在80端口监听连接请求</p>
<p>完成一次请求响应后,对应socket即关闭(如请求html页面,浏览器获得html文件后即关闭socket)</p>
<p>HTTP连接</p>
<ul>
<li>非持久HTTP<ul>
<li>最多只有一个对象在TCP连接上发送(对象传输完成后,socket即关闭)</li>
<li>下载多个对象需要多个TCP连接</li>
<li>HTTP/1.0使用非持久连接</li>
</ul>
</li>
<li>持久HTTP<ul>
<li>多个对象可以在一个(在客户端和服务器之间的)TCP连接上传输(对象传输完成后,客户端仍可发送http请求,请求下个对象)</li>
<li>HTTP/1.1默认使用持久连接</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104736947.png" alt="image-20230211104736947"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211104941790.png" alt="image-20230211104941790"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105101590.png" alt="image-20230211105101590"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105337489.png" alt="image-20230211105337489"></p>
<p>流水方式的持久HTTP:前一个对象还没返回时,就请求下一个对象(节省时间)</p>
<h3 id="HTTP请求报文"><a href="#HTTP请求报文" class="headerlink" title="HTTP请求报文"></a>HTTP请求报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211105927290.png" alt="image-20230211105927290"></p>
<ol>
<li>GET:请求文件</li>
<li>POST:上载文件</li>
<li>HEAD:只请求html的头信息(如搜索引擎建索引)</li>
<li>Host:主机</li>
<li>Connection:响应后是否关闭socket</li>
</ol>
<p>首部行之后可能还包含一些实体行(如post中上载的文件)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211110406533.png" alt="image-20230211110406533"></p>
<ol>
<li>sp:space 空格</li>
<li>cr lf :换行</li>
</ol>
<h3 id="提交表单输入"><a href="#提交表单输入" class="headerlink" title="提交表单输入"></a>提交表单输入</h3><p>Post方式:</p>
<ul>
<li>网页通常包括表单输入</li>
<li>包含在实体主体(entity body)中的输入被提交到服务器</li>
</ul>
<p>URL方式:</p>
<ul>
<li>方法:GET</li>
<li>输入通过请求行的URL字段上载(在URL中添加对应参数)</li>
</ul>
<h3 id="方法类型"><a href="#方法类型" class="headerlink" title="方法类型"></a>方法类型</h3><p>HTTP/1.0:</p>
<ol>
<li>GET</li>
<li>POST</li>
<li>HEAD<ul>
<li>要求服务器在响应报文中不包含对象请求—故障跟踪</li>
<li>搜索引擎建立索引</li>
</ul>
</li>
</ol>
<p>HTTP/1.1:</p>
<ol>
<li>GET,POST,HEAD</li>
<li>PUT<ul>
<li>将实体主体中的文件上载到URL字段规定的路径</li>
</ul>
</li>
<li>DELETE<ul>
<li>删除URL字段规定的文件</li>
</ul>
</li>
</ol>
<h3 id="HTTP响应报文"><a href="#HTTP响应报文" class="headerlink" title="HTTP响应报文"></a>HTTP响应报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211111656472.png" alt="image-20230211111656472"></p>
<ul>
<li>Content-Length：TCP协议本身不维护报文与报文之间的边界(如两个15k的报文可能会被看成一个30k的报文),故HTTP协议需要该参数,判断本报文要读取多少行</li>
</ul>
<h3 id="HTTP响应状态码"><a href="#HTTP响应状态码" class="headerlink" title="HTTP响应状态码"></a>HTTP响应状态码</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211112348721.png" alt="image-20230211112348721"></p>
<h3 id="用户-服务器状态-cookies"><a href="#用户-服务器状态-cookies" class="headerlink" title="用户-服务器状态:cookies"></a>用户-服务器状态:cookies</h3><p>大多数主要的门户网站使用cookies</p>
<p>4个组成部分:</p>
<ol>
<li>在HTTP响应报文中有一个cookie的首部行</li>
<li>在HTTP请求报文含有一个cookie的首部行</li>
<li>在用户端系统中保留有一个cookie文件,由用户的浏览器管理</li>
<li>在Web站点有一个后端数据库</li>
</ol>
<p>例子:</p>
<ol>
<li>Susan总是用同一个PC使用Internet Explore上网</li>
<li>她第一层访问了一个使用了Cookie的电子商务网站</li>
<li>当最初的HTTP请求到达服务器时,该Web站点产生一个唯一的ID,并以此作为索引在它的后端数据库中产生一个项</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115046218.png" alt="image-20230211115046218"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211115255215.png" alt="image-20230211115255215"></p>
<h3 id="Web缓存-代理服务器-proxy-server"><a href="#Web缓存-代理服务器-proxy-server" class="headerlink" title="Web缓存(代理服务器/proxy server)"></a>Web缓存(代理服务器/proxy server)</h3><p>目标:不访问原始服务器,就满足客户的请求</p>
<ul>
<li>用户设置浏览器: 通过缓存访问Web</li>
<li>浏览器将所有的HTTP请求发给缓存<ul>
<li>在缓存中的对象:缓存直接返回对象</li>
<li>如对象不在缓存,缓存请求原始服务器,然后再将对象返回给客户端</li>
</ul>
</li>
</ul>
<p>好处:</p>
<ol>
<li>对客户端来说,不需要每次访问原始服务器(origin server),更快了</li>
<li>对服务器来说,减轻了服务器的负载,网络负担轻</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120250652.png" alt="image-20230211120250652"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211120642173.png" alt="image-20230211120642173"></p>
<p>排队时间=I/(1-I)*L/R</p>
<p>解决方案:</p>
<ol>
<li>提高带宽—花销大</li>
<li>安装本地缓存</li>
</ol>
<p>缓存例子:安装本地缓存</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211122624384.png" alt="image-20230211122624384"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123320343.png" alt="image-20230211123320343"></p>
<p>即增加本地缓存,可以减少流量强度,进而大幅减小接入链路的排队时间</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211123658612.png" alt="image-20230211123658612"></p>
<h2 id="2-3-FTP"><a href="#2-3-FTP" class="headerlink" title="2.3 FTP"></a>2.3 FTP</h2><h3 id="FTP-文件传输协议"><a href="#FTP-文件传输协议" class="headerlink" title="FTP:文件传输协议"></a>FTP:文件传输协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230521890.png" alt="image-20230211230521890"></p>
<h3 id="FTP-控制连接与数据连接分开"><a href="#FTP-控制连接与数据连接分开" class="headerlink" title="FTP:控制连接与数据连接分开"></a>FTP:控制连接与数据连接分开</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211230917021.png" alt="image-20230211230917021"></p>
<ol>
<li>FTP客户端与FTP服务器通过端口21联系,并使用TCP为传输协议</li>
<li>客户端通过控制连接获得身份确认(甚至因为ftp太老,身份认证是明文传输)</li>
<li>客户端通过控制连接发送命令,浏览远程目录</li>
<li>收到一个文件传输命令时,服务器打开一个到客户端的数据连接(注意是服务器主动开启)</li>
<li>一个文件传输完成后,服务器关闭连接</li>
<li>服务器打开第二个TCP数据连接用来传输另一个文件</li>
<li>控制连接:带外(“out of band”)传送(带内为数据传输)</li>
<li>FTP服务器维护用户的状态信息:当前路径,用户账户与控制连接对应</li>
<li>有状态</li>
</ol>
<h3 id="FTP命令-响应"><a href="#FTP命令-响应" class="headerlink" title="FTP命令,响应"></a>FTP命令,响应</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230211231544963.png" alt="image-20230211231544963"></p>
<h2 id="2-4-Email"><a href="#2-4-Email" class="headerlink" title="2.4 Email"></a>2.4 Email</h2><p>3个主要组成部分:</p>
<ol>
<li>用户代理</li>
<li>邮件服务器</li>
<li>简单邮件传输协议:SMTP</li>
</ol>
<p>用户代理</p>
<ul>
<li>又名”邮件阅读器”</li>
<li>撰写,编辑和阅读邮件</li>
<li>如Outlook,Foxmail(正如浏览器是Web应用的用户代理)</li>
<li>输出和输入邮件保存在服务器上</li>
</ul>
<p>邮件服务器</p>
<ul>
<li>邮箱中管理和维护发送给用户的邮件</li>
<li>输出报文队列保持待发送邮件报文</li>
<li>邮件服务器之间的SMTP协议:发送email报文<ul>
<li>客户:发送方邮件服务器</li>
<li>服务器:接受端邮件服务器</li>
</ul>
</li>
<li>用户将邮件发到邮件服务器,邮件服务器将其保存在队列中,挨个发送到对应的邮件服务器,服务器收到后,放到对应客户的mailbox中,用户代理查看邮箱时,就从对应服务器中拉取对应邮件(注意这一步采取的不是SMTP协议)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212010439091.png" alt="image-20230212010439091"></p>
<h3 id="Email-SMTP-RFC-2821"><a href="#Email-SMTP-RFC-2821" class="headerlink" title="Email: SMTP[RFC 2821]"></a>Email: SMTP[RFC 2821]</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212021940829.png" alt="image-20230212021940829"></p>
<p>eg:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022310493.png" alt="image-20230212022310493"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212022901935.png" alt="image-20230212022901935"></p>
<p>注意:如果后续这俩个服务器之间仍有要发送的邮件,则连接不断开,继续传输</p>
<h3 id="SMTP-总结"><a href="#SMTP-总结" class="headerlink" title="SMTP:总结"></a>SMTP:总结</h3><ul>
<li>SMTP使用持久连接</li>
<li>SMTP要求报文(首部和主体)为7位ASCII编码(最高位要为0)</li>
<li>SMTP服务器使用CRLF.CRLF决定报文的尾部</li>
</ul>
<p>HTTP比较</p>
<ul>
<li>HTTP:拉(pull)</li>
<li>SMTP:推(push)</li>
<li>二者都是ASCII形式的命令/响应交换,状态码</li>
<li>HTTP:每个对象封装在各自的响应报文中(如HTML中的其他对象)</li>
<li>SMTP:多个对象包含在一个报文中</li>
</ul>
<h3 id="邮件报文格式"><a href="#邮件报文格式" class="headerlink" title="邮件报文格式"></a>邮件报文格式</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023553599.png" alt="image-20230212023553599"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212023737461.png" alt="image-20230212023737461"></p>
<p>Base64:将若干个不在ASCII码范围内的字节,转化成更长的,在ASCII码范围内的字节</p>
<h3 id="邮件访问协议"><a href="#邮件访问协议" class="headerlink" title="邮件访问协议"></a>邮件访问协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024223079.png" alt="image-20230212024223079"></p>
<h3 id="POP3协议"><a href="#POP3协议" class="headerlink" title="POP3协议"></a>POP3协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024513426.png" alt="image-20230212024513426"></p>
<p>(S的第二次message大概是message2,此处应该是打错了)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212024857692.png" alt="image-20230212024857692"></p>
<h2 id="2-5-DNS-Domain-Name-System"><a href="#2-5-DNS-Domain-Name-System" class="headerlink" title="2.5 DNS(Domain Name System)"></a>2.5 DNS(Domain Name System)</h2><h3 id="DNS-域名转换系统-的必要性"><a href="#DNS-域名转换系统-的必要性" class="headerlink" title="DNS(域名转换系统)的必要性"></a>DNS(域名转换系统)的必要性</h3><ul>
<li>IP地址标识主机,路由器</li>
<li>但IP地址不好记忆,不便于人类使用(没有意义,ipv4:32bit ipv6:128bit,一般用点分十进制的方法简化)</li>
<li>人类一般倾向于使用一些有意义的字符串来标识Internet上的设备</li>
<li>存在着”字符串”-IP地址的转换的必要性</li>
<li>人类用户提供要访问机器的”字符串”名称</li>
<li>由DNS负责转换成为二进制的网络地址</li>
<li>Web应用,FTP均有利用DNS</li>
</ul>
<h3 id="DNS系统需要解决的问题"><a href="#DNS系统需要解决的问题" class="headerlink" title="DNS系统需要解决的问题"></a>DNS系统需要解决的问题</h3><ol>
<li>如何命名设备<ul>
<li>用有意义的字符串:好记,便于人类使用</li>
<li>解决一个平面命名的重名问题:层次化命名</li>
</ul>
</li>
<li>如何完成名字到IP地址的转换<ul>
<li>分布式的数据库维护和响应名字查询</li>
</ul>
</li>
<li>如何维护:增加或者删除一个域,需要在域名系统中做哪些工作</li>
</ol>
<h3 id="DNS的历史"><a href="#DNS的历史" class="headerlink" title="DNS的历史"></a>DNS的历史</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212222008441.png" alt="image-20230212222008441"></p>
<h3 id="DNS总体思路和目标"><a href="#DNS总体思路和目标" class="headerlink" title="DNS总体思路和目标"></a>DNS总体思路和目标</h3><p>DNS的主要思路</p>
<ol>
<li>分层的,基于域的命名机制</li>
<li>若干分布式的数据库完成名字到IP地址的转换</li>
<li>运行在UDP之上端口号为53的应用服务</li>
<li>核心的Internet功能,但以应用层协议实现—在网络边缘处理复杂性</li>
</ol>
<p>DNS的目标</p>
<ol>
<li>主要目的:实现主机名-IP地址的转换(name/IP translate)</li>
<li>其他目的:<ol>
<li>主机别名到规范名字的转换:Host aliasing</li>
<li>邮件服务器别名到邮件服务器的正规名字的转换:Mail server aliasing(别名是为了方便用户访问,规范名字是为了方便管理,别名—&gt;正规名字—&gt;IP地址)</li>
<li>负载均衡:Load Distribution</li>
</ol>
</li>
</ol>
<p>问题1:DNS名字空间(The DNS Name Space)</p>
<p>DNS域名结构</p>
<ul>
<li>一个层面命名设备会有很多重名</li>
<li>DNS采用层次树状结构的命名方法</li>
<li>Internet根被划为几百个顶级域(top lever domains)<ul>
<li>通用的(generic): .com;.edu; .int; .mil; .net; .org; .firm; .hsop; .web; .arts; .rec;</li>
<li>国家的(countries): .cn; ,us; .nl; .jp</li>
</ul>
</li>
<li>每个(子)域下面可划分为若干子域(subdomains)</li>
<li>树叶是主机</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233246830.png" alt="image-20230212233246830"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212233410434.png" alt="image-20230212233410434"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212234059946.png" alt="image-20230212234059946"></p>
<p>域名的管理</p>
<ul>
<li>一个域管理其下的子域<ol>
<li>.jp 被划分为ac.jp co.jp</li>
<li>.cn被划分为edu.cn com.cn</li>
</ol>
</li>
<li>创建一个新的域,必须征得它所属域的同意</li>
</ul>
<p>域与物理网络无关</p>
<ul>
<li>域遵从组织界限,而不是物理网络<ol>
<li>一个域的主机可以不在一个网络</li>
<li>一个网络的主机不一定在一个域</li>
</ol>
</li>
<li>域的划分是逻辑的,而不是物理的</li>
</ul>
<h3 id="问题2-解析问题-名字服务器-Name-Server"><a href="#问题2-解析问题-名字服务器-Name-Server" class="headerlink" title="问题2: 解析问题-名字服务器(Name Server)"></a>问题2: 解析问题-名字服务器(Name Server)</h3><p>一个名字服务器的问题</p>
<ul>
<li>可靠性问题:单点故障</li>
<li>扩展性问题:通信容量</li>
<li>维护问题:远距离的集中式数据库</li>
</ul>
<p>区域(zone)</p>
<ul>
<li>区域的划分有区域管理者自己决定</li>
<li>将DNS名字空间划分为互不相交的区域,每个区域都是树的一部分</li>
<li>名字服务器:<ul>
<li>每个区域都有一个名字服务器:维护着它所管辖区域的权威信息(authoritative record)</li>
<li>名字服务器允许被放置在区域之外,以保障可靠性</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230212235820190.png" alt="image-20230212235820190"></p>
<p>(上层的域服务器都知道其下层的域服务器和对应的IP地址)</p>
<p>TLD服务器:顶级域(TLD)服务器,负责顶级域名(如com,org,net,edu和gov)和所有国家级的顶级域名(如cn,uk,fr,ca,jp)</p>
<ul>
<li>Network solutions 公司维护com TLD服务器</li>
<li>Educause 公司维护edu TLD服务器</li>
</ul>
<h3 id="区域名字服务器维护资源记录"><a href="#区域名字服务器维护资源记录" class="headerlink" title="区域名字服务器维护资源记录"></a>区域名字服务器维护资源记录</h3><p>资源记录(resource records)</p>
<ul>
<li>作用: 维护 域名-IP地址的映射关系(还有其他映射关系,比如别名到规范名字的映射关系)</li>
<li>位置:Name Server的分布式数据库中</li>
</ul>
<p>RR格式:(domain_name,ttl,type,class,Value)</p>
<ul>
<li>Domain_name: 域名</li>
<li>ttl(time to live):生存时间(如果ttl无限大,即为权威记录,如果是一个有限值,即为缓冲记录,一段时间后即删去)</li>
<li>Class类别: 对于Internet,值为IN</li>
<li>Value值: 可以是数字,域名或ASCII串(即域名所映射的对象)</li>
<li>Type 类别: 资源记录的类型(如域名到IP地址的转换,主机别名到主机规范名字的转换,邮件服务器别名到邮件服务器规范名字的转换)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213001803651.png" alt="image-20230213001803651"></p>
<p>注意:NS的Name为子域的名字,而Value为该子域的权威服务器的域名</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002257471.png" alt="image-20230213002257471"></p>
<h3 id="DNS大致工作过程"><a href="#DNS大致工作过程" class="headerlink" title="DNS大致工作过程"></a>DNS大致工作过程</h3><ol>
<li>应用调用解析器(resolver)</li>
<li>解析器作为客户向Name Server 发出查询报文(封装在UDP段中)</li>
<li>Name Server返回响应报文(name or ip)</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213002640061.png" alt="image-20230213002640061"></p>
<p>一台设备上网需要4个信息:</p>
<ol>
<li>主机的IP地址</li>
<li>所在的子网掩码(通过子网掩码判断目标主机是否在本地子网中)</li>
<li>defualt gateway(即缺省网关)</li>
<li>local name server</li>
</ol>
<h3 id="本地名字服务器-Local-Name-Server"><a href="#本地名字服务器-Local-Name-Server" class="headerlink" title="本地名字服务器(Local Name Server)"></a>本地名字服务器(Local Name Server)</h3><ul>
<li>并不严格属于层次结构</li>
<li>每个ISP(居民区的ISP,公司,大学)都有一个本地DNS服务器(也称为默认名字服务器)</li>
<li>当一个主机发起一个DNS查询时,查询被送到其本地DNS服务器(起着代理的作用,将查询转发到层次结构中)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213005356746.png" alt="image-20230213005356746"></p>
<h3 id="查询方式"><a href="#查询方式" class="headerlink" title="查询方式"></a>查询方式</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012048131.png" alt="image-20230213012048131"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012502634.png" alt="image-20230213012502634"></p>
<h3 id="DNS协议-报文"><a href="#DNS协议-报文" class="headerlink" title="DNS协议,报文"></a>DNS协议,报文</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213012553063.png" alt="image-20230213012553063"></p>
<p>ID号便于处理多个查询(即不需要等上个查询返回结果就可以处理下个查询)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013029474.png" alt="image-20230213013029474"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013123198.png" alt="image-20230213013123198"></p>
<h3 id="问题3-维护问题-新增一个域"><a href="#问题3-维护问题-新增一个域" class="headerlink" title="问题3: 维护问题:新增一个域"></a>问题3: 维护问题:新增一个域</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013247740.png" alt="image-20230213013247740"></p>
<p>子域名字—&gt;子域名字服务器的名字—&gt;子域名字服务器的ip地址</p>
<h3 id="攻击DNS"><a href="#攻击DNS" class="headerlink" title="攻击DNS"></a>攻击DNS</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230213013709337.png" alt="image-20230213013709337"></p>
<h2 id="2-6-P2P应用"><a href="#2-6-P2P应用" class="headerlink" title="2.6 P2P应用"></a>2.6 P2P应用</h2><h3 id="纯P2P架构"><a href="#纯P2P架构" class="headerlink" title="纯P2P架构"></a>纯P2P架构</h3><ul>
<li>没有(或极少)一直运行的服务器</li>
<li>任意端系统都可以直接通信</li>
<li>利用peer的服务能力</li>
<li>Peer节点间歇上网,每次IP地址都有可能变化</li>
</ul>
<p>例子:</p>
<ol>
<li>文件分发(BitTorrent)</li>
<li>流媒体(KanKan)</li>
<li>VoIP(Skype)</li>
</ol>
<h3 id="文件分发-C-S-vs-P2P"><a href="#文件分发-C-S-vs-P2P" class="headerlink" title="文件分发: C/S vs P2P"></a>文件分发: C/S vs P2P</h3><p>问题:从一台服务器分发文件(大小F)到N个peer需要多少时间?</p>
<p>Peer节点上下载能力是有限的资源</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001009697.png" alt="image-20230214001009697"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214002407656.png" alt="image-20230214002407656"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230214001638734.png" alt="image-20230214001638734"></p>
<p>C/S模式,时间随N线性增大</p>
<p>P2P模式,N增加后,时间趋近于一个常数</p>
<h3 id="P2P文件分发"><a href="#P2P文件分发" class="headerlink" title="P2P文件分发"></a>P2P文件分发</h3><p>相邻的peer节点之间通过会话关系形成边,形成了覆盖网(overlay)</p>
<p>非结构化P2P</p>
<ul>
<li>其overlay是随机生成的</li>
<li>分为三类<ol>
<li>集中化目录</li>
<li>完全分布式</li>
<li>混合体</li>
</ol>
</li>
</ul>
<p>DHT(结构化)P2P(基于分布式散列表)</p>
<ul>
<li>其overlay是有序的,可以形成环,树等关系(更加复杂)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215151721741.png" alt="image-20230215151721741"></p>
<p>两大问题</p>
<ol>
<li>如何定位所需资源</li>
<li>如何处理对等方的加入与离开</li>
</ol>
<p>可能的方案</p>
<ol>
<li>集中</li>
<li>分散</li>
<li>半分散</li>
</ol>
<h3 id="P2P-集中式目录"><a href="#P2P-集中式目录" class="headerlink" title="P2P:集中式目录"></a>P2P:集中式目录</h3><p>最初的”Napster”的设计</p>
<ol>
<li>当对等方连接时,它告知中心服务器:<ol>
<li>IP地址</li>
<li>内容</li>
</ol>
</li>
<li>Alice查询”XXX.MP3”</li>
<li>Alice从Bob处请求文件</li>
<li>对等方下线时,告知服务器,不再接受文件请求</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215152811391.png" alt="image-20230215152811391"></p>
<p>集中式目录存在的问题</p>
<ol>
<li>单点故障(目录服务器故障)</li>
<li>性能瓶颈(服务器要维护所有在线的peer节点IP地址和内容)</li>
<li>侵犯版权(通过索引,很容易定位到个人)</li>
</ol>
<p>文件传输是分散的,而定位内容是高度集中的</p>
<h3 id="P2P-完全分布式"><a href="#P2P-完全分布式" class="headerlink" title="P2P:完全分布式"></a>P2P:完全分布式</h3><p>泛洪查询:Gnutella</p>
<ul>
<li>全分布式—没有中心服务器</li>
<li>随机生成一个overlay</li>
<li>开放文件共享协议</li>
<li>许多Gnutella客户端实现了Gnutella协议—类似HTTP有许多的浏览器</li>
</ul>
<p>覆盖网络(overlay):图</p>
<ul>
<li>如果X和Y之间有一个TCP连接,则二者之间存在一条边</li>
<li>所有活动的peer节点和边就是覆盖网络</li>
<li>边并不是物理链路(逻辑关系)</li>
<li>给定一个对等方,通常所连接的节点少于10个</li>
</ul>
<p>协议</p>
<ol>
<li>在已有的TCP连接上发送查询报文</li>
<li>对等方转发查询报文</li>
<li>以反方向返回查询命中报文</li>
<li>文件传输:HTTP</li>
<li>通过TTL限制查询的步数or记住已转发的查询,下次不再转发(防止无止境的查询)</li>
</ol>
<p>可扩展性:限制范围的泛洪查询(flooding)</p>
<p>对等方加入(如何建立overlay)</p>
<ol>
<li>对等方X必须首先发现一些已在overlay中的其他对等方—使用可用对等方列表<ul>
<li>自己维持一张对等方列表(经常在线的对等方IP)</li>
<li>联系维持列表的Gnutella站点</li>
</ul>
</li>
<li>X接着试图与该列表上的对等方建立TCP连接,直到与某个对等方Y建立连接</li>
<li>X向Y发送Ping报文,Y转发该报文</li>
<li>所有收到Ping报文的对等方以Pong报文回应(IP地址,共享文件的数量以及总字节数)</li>
<li>X收到许多Pong报文,然后就能从中随机挑一些节点建立其他TCP连接</li>
</ol>
<p>如果有些peer节点离开,与其连接的节点可以在选择一些节点进行连接,进而维护overlay</p>
<h3 id="P2P-混合体"><a href="#P2P-混合体" class="headerlink" title="P2P:混合体"></a>P2P:混合体</h3><p>利用不匀称性—KaZaA</p>
<ul>
<li>每个对等方要么是一个组长,要么隶属于一个组长<ul>
<li>对等方与其组长之间有TCP连接</li>
<li>组长对之间有TCP连接</li>
</ul>
</li>
<li>组长跟踪其所有孩子的内容</li>
<li>组长与其他组长联系<ul>
<li>转发查询到其他组长</li>
<li>获得其他组长的数据拷贝</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215160052295.png" alt="image-20230215160052295"></p>
<p>KaZaA:查询</p>
<ol>
<li>每个文件有一个散列标识码和一个描述符</li>
<li>客户端向其组长发送关键字查询</li>
<li>组长用匹配进行响应<ul>
<li>对每个匹配:元数据,散列标识码(Hash值)和IP地址</li>
</ul>
</li>
<li>如果组长将查询转发给其他组长,其他组长也以匹配进行响应</li>
<li>客户端选择要下载的文件<ul>
<li>向拥有文件的对等方发送一个带散列标识码的HTTP请求</li>
</ul>
</li>
</ol>
<p>P2P文件分发:BitTorrent</p>
<ul>
<li>文件被分为一个个块256KB,用一个bitmap表示当前节点具有哪些块(比如bitmap第一位为1,第二位为0,则当前节点具有该文件的第一块,不具有第二块)</li>
<li>网络中的这些peers发送接受文件块,相互服务</li>
<li>Torrent(洪流):节点的组,节点之间交换文件块.泛洪时,洪流节点之间交换bitmap</li>
<li>tracker:跟踪torrent中的参与节点(tracking server维护参与节点,而torrent文件中包含了tracking server的信息)</li>
<li>Peer加入Torrent:<ul>
<li>一开始没有块(bitmap全0),但是将会通过其他节点处累积文件块(此时随机请求)</li>
<li>向跟踪服务器注册,获得peer节点列表,和部分peer节点构成邻居关系(“连接”)</li>
</ul>
</li>
<li>当peer下载时,该peer可以同时向其他节点提供上载服务</li>
<li>Peer可能会变换用于交换块的peer节点</li>
<li>扰动churn:peer节点可能会上线或者下线</li>
<li>一旦一个peer拥有整个文件,它会(自私的)离开或者保留(利他主义)在torrent</li>
<li>拥有整个文件的节点称为种子</li>
</ul>
<p>新加入的节点拥有四个以上的块后,优先请求洪流中较稀缺的块(peer节点之间会优先给提供给自己文件块的节点提供文件块—即你对我好,我对你好.优先请求稀缺块一方面使得洪流中稀缺文件块的数量增多,一方面有利于使其他节点向新加入的节点提供文件,对整体个体均有利).为什么不一开始就请求稀缺的块?稀缺的块数量少,较难找到,先随机请求到一些文件块后,就可以向其他节点提供服务,进一步有利于其他节点向自己提供服务</p>
<p>请求块:</p>
<ul>
<li>在任何给定时间,不同peer节点拥有一个文件块的子集</li>
<li>周期性的,Alice节点向邻居询问他们拥有哪些块的信息</li>
<li>Alice向peer节点请求它希望的块,稀缺的块</li>
</ul>
<p>发送块:一报还一报 tit-for-tat</p>
<ul>
<li>Alice向4个peer发送块,这些块向它自己提供最大带宽的服务<ul>
<li>其他peer被Alice阻塞(将不会从Alice处获得服务)</li>
<li>每10秒重新评估一次:前4位</li>
<li>占2/3周期</li>
</ul>
</li>
<li>每个30秒:随机选择其他peer节点,向这个节点发送块<ul>
<li>“优化疏通”这个节点</li>
<li>新选择的节点可以加入这个top4 </li>
<li>占1/3周期</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230215173058693.png" alt="image-20230215173058693"></p>
<h3 id="Distributed-Hash-Table-DHT"><a href="#Distributed-Hash-Table-DHT" class="headerlink" title="Distributed Hash Table(DHT)"></a>Distributed Hash Table(DHT)</h3><p>覆盖网络是有序的,故文件块的信息的维护也是有序的,能快速找到拥有文件块的peer节点</p>
<ul>
<li>哈希表</li>
<li>DHT方案</li>
<li>环型DHT以及覆盖网络</li>
<li>Peer波动</li>
</ul>
<h2 id="2-7-CDN"><a href="#2-7-CDN" class="headerlink" title="2.7 CDN"></a>2.7 CDN</h2><p>视频流化服务和CDN:上下文</p>
<p>视频流量:占据着互联网大部分的带宽</p>
<ul>
<li>Netflix,Youtube:占据37%,16%的ISP下行流量</li>
<li>~1B Youtube 用户,~75M Netflix 用户</li>
</ul>
<p>挑战: 规模性-如何服务这~1B用户?</p>
<ul>
<li>单个超级服务器无法提供服务</li>
</ul>
<p>挑战:异构性</p>
<ul>
<li>不同用户拥有不同的能力(例如: 有线接入和移动用户;带宽丰富和受限用户)</li>
</ul>
<p>解决方案: 分布式的,应用层面的基础设施(即CDN)</p>
<h3 id="多媒体-视频"><a href="#多媒体-视频" class="headerlink" title="多媒体:视频"></a>多媒体:视频</h3><p>视频:固定速度显示的图像序列(eg: 24 images/sec,即24帧)</p>
<p>网络视频特点:</p>
<ol>
<li>高码率:大于音频的十倍甚至九倍,高的网络带宽需求</li>
<li>可以被压缩</li>
<li>90%以上的网络流量是视频</li>
</ol>
<p>数字化图像:像素的阵列—每个像素被若干bits表示</p>
<p>编码:使用图像内和图像间的冗余来降低编码的比特数</p>
<ol>
<li>空间冗余(图像内)<ul>
<li>不是发送N个相同的颜色值,仅发送两个值:颜色和重复的个数N</li>
</ul>
</li>
<li>时间冗余(相邻的图像间)<ul>
<li>不是发送第i+1帧的全部编码,而仅发送和第i帧差别的地方</li>
</ul>
</li>
</ol>
<p>编码方式:</p>
<ol>
<li>CBR(constant bit rate):以固定速率编码</li>
<li>VBR(variable bit rate):视频编码速率随时间的变化而变化</li>
</ol>
<p>eg: </p>
<ul>
<li>MPEG1 (CD-ROM) 1.5Mbps</li>
<li>MPEG2 (DVD) 3-6Mbps</li>
<li>MPEG4 (互联网使用) &lt;1 Mbps</li>
</ul>
<h3 id="存储视频的流化服务-streaming-DASH"><a href="#存储视频的流化服务-streaming-DASH" class="headerlink" title="存储视频的流化服务(streaming): DASH"></a>存储视频的流化服务(streaming): DASH</h3><p>DASH: Dynamic ,Adaptive Streaming over HTTP</p>
<p>服务器:</p>
<ul>
<li>将视频文件分割成多个块</li>
<li>每个块独立存储(可以部署在不同服务器中),编码于不同码率(8-10种)</li>
<li>告示文件( manifest file):提供不同块的URL</li>
</ul>
<p>客户端:</p>
<ol>
<li>先获取告示文件</li>
<li>周期性地测量服务器到客户端的带宽</li>
<li>查询告示文件,在一个时刻请求一个块,HTTP头部指定字节范围<ul>
<li>如果带宽足够,选择最大码率的视频块</li>
<li>会话中的不同时刻,可以切换请求不同的编码块(取决于当时的可用带宽)</li>
</ul>
</li>
</ol>
<p>“智能”客户端:客户端自适应决定</p>
<ul>
<li>什么时候去请求块(不至于缓存”挨饿”,或者溢出)</li>
<li>请求什么编码速率的视频块(当带宽够用时,请求高质量的视频块)</li>
<li>哪里去请求块(可以向离自己近的服务器发送URL,或者向高可用带宽的服务器请求)</li>
</ul>
<p>CDN(Content Distribution Networks)</p>
<p>挑战:服务器如何通过网络向上百万用户同时流化视频内容(上百万视频内容)?</p>
<p>选择1:单个的,大的超级服务中心”mega-server”</p>
<ul>
<li>服务器到客户端路径上跳数较多,瓶颈链路的带宽小导致停顿</li>
<li>“二八规律”决定了网络同时充斥着同一个视频的多个拷贝,效率低(付费高,带宽浪费,效果差)</li>
<li>单点故障点,性能瓶颈</li>
<li>周边网络的拥塞</li>
<li>简单,但是不可扩展</li>
</ul>
<p>选项2:通过CDN,全网部署缓存节点,存储服务内容,就近为用户提供服务,提高用户体验</p>
<p>ICP通过购买CDN运营商所提供的CDN服务,进而提高提供的服务质量</p>
<ul>
<li>enter deep: 将CDN服务器深入到许多接入网(下层/local ISP)<ul>
<li>更接近用户,数量多,离用户近,管理困难</li>
<li>Akamai, 1700 个位置</li>
</ul>
</li>
<li>bring home:部署在少数(10个左右)关键位置(上层ISP),如将服务器簇安装于POP附件(离若干1st|SP POP较近)<ul>
<li>采用租用线路将服务器簇连接起来</li>
<li>Limelight</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011639201.png" alt="image-20230216011639201"></p>
<p>注意:域名服务器可以完成CDN的重定向</p>
<p>CDN特点:over the top—处于应用层且服务于网络边缘,将主机之间的通信作为一种服务向用户提供</p>
<p>OTT挑战:在拥塞的互联网上复制内容</p>
<ul>
<li>从哪个CDN节点中获取内容?</li>
<li>用户在网络拥塞时的行为?</li>
<li>在哪些CDN节点中存储什么内容?</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216011821582.png" alt="image-20230216011821582"></p>
<h3 id="CDN-”简单”内容访问场景"><a href="#CDN-”简单”内容访问场景" class="headerlink" title="CDN:”简单”内容访问场景"></a>CDN:”简单”内容访问场景</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216013608248.png" alt="image-20230216013608248"></p>
<ol>
<li>Bob gets URL for video <a target="_blank" rel="noopener" href="http://netcinema.com/6Y7B23V">http://netcinema.com/6Y7B23V</a> from netcinema.com web page:Bob在网页上请求该视频</li>
<li>resolve <a target="_blank" rel="noopener" href="http://netcinema.com/6Y7B23V">http://netcinema.com/6Y7B23V</a> via Bob’s local DNS:浏览器向本地的DNS域名服务器请求该域名的IP地址</li>
<li>netcinema’s DNS returns URL <a target="_blank" rel="noopener" href="http://KingCDN.com/NetC6y&amp;B23V">http://KingCDN.com/NetC6y&amp;B23V</a> :本地DNS服务器请求到netcinema的DNS服务器,netcinema的DNS服务器重定向该域名到KingCDN服务器的域名,让其去找KingCDN的权威域名服务器</li>
<li>同5</li>
<li>Resolve <a target="_blank" rel="noopener" href="http://KingCDN.com/NetC6y&amp;B23">http://KingCDN.com/NetC6y&amp;B23</a> via KingCDN’s authoritative DNS, which returns IP address of KingCDN server with video(CDN簇选择策略):KingCDN的权威服务器给出,离客户最近的,CDN节点的IP地址</li>
<li>request video from KingCDN server streamed via HTTP:通过DASH接受视频的流化服务</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216014536990.png" alt="image-20230216014536990"></p>
<h2 id="2-8-TCP套接字编程"><a href="#2-8-TCP套接字编程" class="headerlink" title="2.8 TCP套接字编程"></a>2.8 TCP套接字编程</h2><h3 id="Socket编程"><a href="#Socket编程" class="headerlink" title="Socket编程"></a>Socket编程</h3><p>应用进程使用传输层提供的服务才能够交换报文,实现应用协议,实现应用</p>
<p>TCP/IP:应用进程使用Socket API访问传输服务</p>
<p>地点:界面上的SAP(Socket)</p>
<p>方式:Socket API</p>
<p>目标:学习如何构建能借助sockets进行通信的C/S应用程序</p>
<p>socket:分布式应用程序之间的门,传输层协议提供的端到端服务接口</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216020642595.png" alt="image-20230216020642595"></p>
<p>2种传输层服务的socket类型:</p>
<ol>
<li>TCP:可靠的,字节流的服务(保证bytestring是有序,无误的,但是不保证报文的界限,所以界限要应用层自己维护)</li>
<li>UDP:不可靠(UDP数据报)服务</li>
</ol>
<h3 id="TCP套接字编程"><a href="#TCP套接字编程" class="headerlink" title="TCP套接字编程"></a>TCP套接字编程</h3><p>套接字:应用进程与端到端传输协议(TCP或UDP)之间的门户</p>
<p>TCP服务:从一个进程向另一个进程可靠地传输字节流</p>
<p>服务器首先运行,等待连接建立:</p>
<p>1: 服务器进程必须先处于运行状态</p>
<ul>
<li>创建欢迎socket</li>
<li>和本地端口捆绑</li>
<li>在欢迎socket上阻塞式等待接受用户的连接</li>
</ul>
<p>3: 当与客户端连接请求到来时</p>
<ul>
<li>服务器接受来自用户端的请求,解除阻塞式等待,返回一个新的socket(与欢迎scket不一样),与客户端通信<ul>
<li>允许服务器与多个客户端通信</li>
<li>使用源IP和源端口来区分不同的客户端</li>
</ul>
</li>
</ul>
<p>客户端主动和服务器建立连接:</p>
<p>2: 创建客户端本地套接字(<strong>隐式</strong>捆绑到本地port)</p>
<ul>
<li>指定服务器进程的IP地址和端口号,与服务器进程连接</li>
</ul>
<p>4: 连接API调用有效时,客户端与服务器建立了TCP连接</p>
<p>从应用程序的角度:TCP在客户端和服务器进程之间提供了可靠的,字节流(管道)服务</p>
<p>C/S模式的应用样例:</p>
<ol>
<li>客户端从标准输入装置读取一行字符,发送给服务端</li>
<li>服务器从socket读取字符</li>
<li>服务器将字符转换成大写,然后返回给客户端</li>
<li>客户端从socket中读取行字符,然后打印出来</li>
</ol>
<h3 id="数据结构-sockaddr-in"><a href="#数据结构-sockaddr-in" class="headerlink" title="数据结构 sockaddr_in"></a>数据结构 sockaddr_in</h3><p>IP地址和port捆版关系的数据结构(标示进程的端节点)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span>&#123;</span></span><br><span class="line">    <span class="type">short</span> sin_family;<span class="comment">//AF_INET,地址簇</span></span><br><span class="line">    u_short sin_port;<span class="comment">//port</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span> <span class="title">sin_addr</span>;</span><span class="comment">//IP address,unsigned long</span></span><br><span class="line">    <span class="type">char</span> sin_zero[<span class="number">8</span>];<span class="comment">//align,对齐</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>sin_family:地址簇,表示你用在TCP/IP协议还是其他协议</p>
<p>sin_zero:其他协议地址可能较长,就需要sin_zero来补足</p>
<h3 id="数据结构hostent"><a href="#数据结构hostent" class="headerlink" title="数据结构hostent"></a>数据结构hostent</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">hostent</span>&#123;</span></span><br><span class="line">    <span class="type">char</span> *h_name;</span><br><span class="line">    <span class="type">char</span> **h_aliases;</span><br><span class="line">    <span class="type">int</span> h_addrtype;</span><br><span class="line">    <span class="type">int</span> h_length; <span class="comment">/*地址长度*/</span></span><br><span class="line">    <span class="type">char</span> **h_addr_list;</span><br><span class="line">    <span class="meta">#<span class="keyword">define</span> h_addr h_addr_list[0];</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>作为调用域名解析函数时的参数,返回后,将IP地址(即h_addr)拷贝到sockaddr_in的IP地址部分</p>
<p>h_name:存放主机的域名</p>
<p>h_aliases:主机的一系列别名</p>
<p>h_length:地址的长度</p>
<p>h_addr_list:IP地址的列表,第一个是解析出来的IP地址即h_addr</p>
<h3 id="C-S-socket交互-TCP"><a href="#C-S-socket交互-TCP" class="headerlink" title="C/S socket交互: TCP"></a>C/S socket交互: TCP</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216203924684.png" alt="image-20230216203924684"></p>
<p>socket()函数可选择参数来生成不同协议的socket(如TCP,UDP)</p>
<p>sad为服务器的IP,port信息,cad为客户端的IP,port信息</p>
<p>服务器的bind函数中sad的数据类型为sockaddr_in,bind将该socket与sad中的本地IP,端口号捆绑</p>
<p>服务器的accept函数中cad用来存储客户端的信息</p>
<p>客户端不需要调用bind—服务器bind是为了指定socket的端口号,以便于客户端连接,而客户端的端口号没有要求,故不用bind(会按照一定的规则给你分配一个没有用的端口)</p>
<p>客户端connect中sad存储的是服务器的IP地址和端口号</p>
<h3 id="例子-C客户端-TCP"><a href="#例子-C客户端-TCP" class="headerlink" title="例子:C客户端(TCP)"></a>例子:C客户端(TCP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205125094.png" alt="image-20230216205125094"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216205351769.png" alt="image-20230216205351769"></p>
<h3 id="例子-C服务器-TCP"><a href="#例子-C服务器-TCP" class="headerlink" title="例子:C服务器(TCP)"></a>例子:C服务器(TCP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210045706.png" alt="image-20230216210045706"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230216210121381.png" alt="image-20230216210121381"></p>
<p>listen的第二个参数是规定welcome socket的请求队列大小(有多个连接请求,取出第一个后开始执行任务,此时后续的请求都存储在该队列中)</p>
<h2 id="2-9-UDP-socket"><a href="#2-9-UDP-socket" class="headerlink" title="2.9 UDP socket"></a>2.9 UDP socket</h2><h3 id="UDP套接字编程"><a href="#UDP套接字编程" class="headerlink" title="UDP套接字编程"></a>UDP套接字编程</h3><p>UDP:在客户端和服务器之间没有连接</p>
<ul>
<li>没有握手</li>
<li>发送端在每一个报文中明确地指定目标的IP地址和端口号</li>
<li>服务器必须从收到的分组中提取出发送端的IP地址和端口号</li>
</ul>
<p>UDP:传送的数据可能乱序,也可能丢失</p>
<p>远程视角看UDP服务:UDP为客户端和服务器提供不可靠的字节组的传送服务</p>
<p>UDP的数据单元一般叫datagram(数据报),要注意的是IP协议的数据单元也叫datagram,要根据上下文推断</p>
<h3 id="C-S-socket-交互-UDP"><a href="#C-S-socket-交互-UDP" class="headerlink" title="C/S socket 交互:UDP"></a>C/S socket 交互:UDP</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090307750.png" alt="image-20230218090307750"></p>
<p>UDP和TCP端口不同,即可占用同一个端口而互不影响</p>
<p>图片上recvfrom的意思是receivefrom</p>
<p>recvfrom若接受到信息,会一直阻塞在该函数</p>
<h3 id="样例-C客户端-UDP"><a href="#样例-C客户端-UDP" class="headerlink" title="样例:C客户端(UDP)"></a>样例:C客户端(UDP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090655156.png" alt="image-20230218090655156"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090747095.png" alt="image-20230218090747095"></p>
<h3 id="样例-C服务器-UDP"><a href="#样例-C服务器-UDP" class="headerlink" title="样例:C服务器(UDP)"></a>样例:C服务器(UDP)</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090912820.png" alt="image-20230218090912820"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230218090956022.png" alt="image-20230218090956022"></p>
<h1 id="第三章-传输层"><a href="#第三章-传输层" class="headerlink" title="第三章 传输层"></a>第三章 传输层</h1><h2 id="3-1-概述和传输层服务"><a href="#3-1-概述和传输层服务" class="headerlink" title="3.1 概述和传输层服务"></a>3.1 概述和传输层服务</h2><h3 id="传输服务和协议"><a href="#传输服务和协议" class="headerlink" title="传输服务和协议"></a>传输服务和协议</h3><ul>
<li>为运行在不同主机上的应用进程提供逻辑通信</li>
<li>传输协议运行在端系统<ul>
<li>发送方:将应用层的报文分成报文段,然后传递给网络层</li>
<li>接受方:将报文段重组成报文,然后传递给应用层</li>
</ul>
</li>
<li>有多个传输层协议可供应用选择<ul>
<li>Internet:TCP和UDP</li>
</ul>
</li>
</ul>
<h3 id="传输层-VS-网络层"><a href="#传输层-VS-网络层" class="headerlink" title="传输层 VS 网络层"></a>传输层 VS 网络层</h3><ul>
<li>网络层服务:主机之间的逻辑通信</li>
<li>传输层服务:进程间的逻辑通信<ul>
<li>依赖于网络层的服务—延时,带宽(这些服务无法优化)</li>
<li>并对网络层的服务进行增强—数据丢失,顺序混乱,加密</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223100113960.png" alt="image-20230223100113960"></p>
<h3 id="Internet传输层协议"><a href="#Internet传输层协议" class="headerlink" title="Internet传输层协议"></a>Internet传输层协议</h3><ul>
<li>可靠的,保序的传输:TCP<ul>
<li>多路复用,解复用</li>
<li>拥塞控制</li>
<li>流量控制</li>
<li>建立连接</li>
</ul>
</li>
<li>不可靠,不保序的传输:UDP<ul>
<li>多路复用,解复用</li>
<li>没有为尽力而为的IP服务添加更多的其他额外服务</li>
</ul>
</li>
<li>都不提供:<ul>
<li>延时保证</li>
<li>带宽保证</li>
</ul>
</li>
</ul>
<h2 id="3-2-多路复用和解复用"><a href="#3-2-多路复用和解复用" class="headerlink" title="3.2 多路复用和解复用"></a>3.2 多路复用和解复用</h2><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223101759285.png" alt="image-20230223101759285"></p>
<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223101911827.png" alt="image-20230223101911827"></p>
<h3 id="无连接-UDP-多路解复用"><a href="#无连接-UDP-多路解复用" class="headerlink" title="无连接(UDP)多路解复用"></a>无连接(UDP)多路解复用</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223102027656.png" alt="image-20230223102027656"></p>
<h3 id="面向连接的解复用"><a href="#面向连接的解复用" class="headerlink" title="面向连接的解复用"></a>面向连接的解复用</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223102507925.png" alt="image-20230223102507925"></p>
<h2 id="3-3-无连接传输-UDP"><a href="#3-3-无连接传输-UDP" class="headerlink" title="3.3 无连接传输 UDP"></a>3.3 无连接传输 UDP</h2><h3 id="UDP-用户数据报协议"><a href="#UDP-用户数据报协议" class="headerlink" title="UDP:用户数据报协议"></a>UDP:用户数据报协议</h3><p>User Datagram Protocol [RFC 768]</p>
<ul>
<li>“no frills”,”bare bones” Internet传输协议</li>
<li>“尽力而为的服务”,报文段可能丢失,送到应用进程的报文段乱序</li>
<li>无连接:<ul>
<li>UDP发送端和接收端之间没有握手</li>
<li>每个UDP报文段都被独立地处理</li>
</ul>
</li>
</ul>
<p>UDP被用于:</p>
<ul>
<li>流媒体(丢失不敏感,速率敏感,应用可控制传输速率)</li>
<li>DNS</li>
<li>SNMP</li>
</ul>
<p>在UDP上实现可靠传输:</p>
<ul>
<li>在应用层增加可靠性</li>
<li>应用特定的差错恢复</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223104543262.png" alt="image-20230223104543262"></p>
<p>校验和:EDC,差错检验码</p>
<h3 id="UDP校验和"><a href="#UDP校验和" class="headerlink" title="UDP校验和"></a>UDP校验和</h3><p>目标:检测在被传输报文段中的差错(如比特反转)</p>
<p>发送方:</p>
<ul>
<li>将报文段的内容视为一个个16比特的整数,不足的补0</li>
<li>校验和:报文段的加法和(1的补运输)</li>
<li>发送方将校验和放在UDP的校验和字段</li>
</ul>
<p>接受方:</p>
<ul>
<li>计算接受到的报文段的校验和</li>
<li>检查计算出的校验和与校验和字段的内容是否相等<ul>
<li>不相等—检测到差错</li>
<li>相等—没检测到差错,但也许有差错—残存错误</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223105930147.png" alt="image-20230223105930147"></p>
<p>即最高位进位要进到最低位去,最后结果取反码即为校验和</p>
<p>在接收方,将包括EDC在内的报文相加起来,为2^(16)-1,则通过校验</p>
<h2 id="3-4-可靠数据传输-rdt-的原理"><a href="#3-4-可靠数据传输-rdt-的原理" class="headerlink" title="3.4 可靠数据传输(rdt)的原理"></a>3.4 可靠数据传输(rdt)的原理</h2><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223110335755.png" alt="image-20230223110335755"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223110955563.png" alt="image-20230223110955563"></p>
<p>rdt_rcv大概是打错了,应该都是udt_rcv</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223111442837.png" alt="image-20230223111442837"></p>
<p>即双向传输化rdt简化成单向传输rdt,而实现单向传输中,控制信息是双向的(需要给出反馈信息)</p>
<h3 id="Rdt1-0-在可靠信道上的可靠数据传输"><a href="#Rdt1-0-在可靠信道上的可靠数据传输" class="headerlink" title="Rdt1.0: 在可靠信道上的可靠数据传输"></a>Rdt1.0: 在可靠信道上的可靠数据传输</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223111956528.png" alt="image-20230223111956528"></p>
<p>同理,rdt_rcv应该是udt_rcv,此处应该是打错了</p>
<h3 id="Rdt2-0-具有比特差错的信道"><a href="#Rdt2-0-具有比特差错的信道" class="headerlink" title="Rdt2.0: 具有比特差错的信道"></a>Rdt2.0: 具有比特差错的信道</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223112449483.png" alt="image-20230223112449483"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223112511642.png" alt="image-20230223112511642"></p>
<p>Rdt2.1: ACK/NAK出错</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113014951.png" alt="image-20230223113014951"></p>
<p>即只要发送方没有接受到正确的ACK,都会重传当前分组,如果发送方已经成功收到该分组(通过分组内的序号识别?),则将其丢弃,再次发送ACK</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113508171.png" alt="image-20230223113508171"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223113650653.png" alt="image-20230223113650653"></p>
<p>packet通过校验后,通过序号是0还是1判断是否将数据传递给上层</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223114456837.png" alt="image-20230223114456837"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223114851441.png" alt="image-20230223114851441"></p>
<h3 id="Rdt2-2-无NAK的协议"><a href="#Rdt2-2-无NAK的协议" class="headerlink" title="Rdt2.2: 无NAK的协议"></a>Rdt2.2: 无NAK的协议</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141345669.png" alt="image-20230223141345669"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141405334.png" alt="image-20230223141405334"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141827476.png" alt="image-20230223141827476"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223141851812.png" alt="image-20230223141851812"></p>
<p>若ack出现错误,则sender重新发送packet,此时receiver根据packet中的序号判断是否重复</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223142256245.png" alt="image-20230223142256245"></p>
<h3 id="Rdt3-0-具有比特差错和分组丢失的信道"><a href="#Rdt3-0-具有比特差错和分组丢失的信道" class="headerlink" title="Rdt3.0 :具有比特差错和分组丢失的信道"></a>Rdt3.0 :具有比特差错和分组丢失的信道</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223142902632.png" alt="image-20230223142902632"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223143351708.png" alt="image-20230223143351708"></p>
<p>要注意等待ACK状态中,接收到错误ACK后,不执行操作,直至超时后才重新发送packet</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223144628186.png" alt="image-20230223144628186"></p>
<h3 id="流水线协议-提高链路利用率"><a href="#流水线协议-提高链路利用率" class="headerlink" title="流水线协议:提高链路利用率"></a>流水线协议:提高链路利用率</h3><p>超时时间不合理仍能正常工作,但会导致packet都被发送多次</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223145606337.png" alt="image-20230223145606337"></p>
<p>延迟时间:一个bit从发送方发出,到接受方接受所需要的时间—可以理解成车的行驶时间</p>
<p>带宽:每秒能发出多少个bit—可以理解为马路宽度,即每秒能发出多少辆车</p>
<p>由于每次发送需要等待接收方返回控制信息(ACK),就算链路的容量较大,由于每次发送的PDU较小,也无法有效利用其容量,如例子中吞吐量仅为270kbps</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223150546097.png" alt="image-20230223150546097"></p>
<p>即一次发送多个PDU</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223151440952.png" alt="image-20230223151440952"></p>
<h3 id="通用-滑动窗口-slide-window-协议"><a href="#通用-滑动窗口-slide-window-协议" class="headerlink" title="通用:滑动窗口(slide window)协议"></a>通用:滑动窗口(slide window)协议</h3><p>发送窗口:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223152058394.png" alt="image-20230223152058394"></p>
<ol>
<li>发送窗口SW=1,接受窗口RW=1: S-W(stop and wait)协议—rdt3.0</li>
<li>发送窗口SW&gt;1,接受窗口RW=1: GBN(回退N步)协议—流水线协议</li>
<li>发送窗口SW&gt;1,接受窗口RW&gt;1: SR(选择重传)协议—流水线协议</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223152817943.png" alt="image-20230223152817943"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223153239779.png" alt="image-20230223153239779"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223153811869.png" alt="image-20230223153811869"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154000012.png" alt="image-20230223154000012"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154140618.png" alt="image-20230223154140618"></p>
<p>接受窗口:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223154909864.png" alt="image-20230223154909864"></p>
<p>接受窗口=1,比如罩住1时,若收到非1数据,都返回ACK0,收到1时,则返回ACK1,即GBN协议,只能顺序接受(其ACK包含累计确认的含义,即前X个都成功接收了)</p>
<p>若接受窗口&gt;1,比如罩住1234,若收到2,则返回ACK2(但只有收到1时,尾沿才能移动),即SR协议</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223155344966.png" alt="image-20230223155344966"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223155635506.png" alt="image-20230223155635506"></p>
<p>窗口互动:</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160106595.png" alt="image-20230223160106595"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160402573.png" alt="image-20230223160402573"></p>
<p>比如发送方一次发送1~5,一共5个PDU,2~5都成功发送,由于GBN其接受窗口大小为1,2~5都被抛弃,然后产生了4个累计确认,然后超时重发机制又使得发送窗口内PDU全被发送一遍</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223160823853.png" alt="image-20230223160823853"></p>
<p>假设发送了2,3,4,一共3个PDU,其中3,4都被接受到,返回ACK3和ACK4,而2超时,则超时重发机制会将2重新发送(而3,4不需要)</p>
<h3 id="GBN协议和SR协议的异同"><a href="#GBN协议和SR协议的异同" class="headerlink" title="GBN协议和SR协议的异同"></a>GBN协议和SR协议的异同</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223161400568.png" alt="image-20230223161400568"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223161759919.png" alt="image-20230223161759919"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163131488.png" alt="image-20230223163131488"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163056946.png" alt="image-20230223163056946"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230223163634823.png" alt="image-20230223163634823"></p>
<p>注意返回ACK1后不会立即发送2,而是等2的计时器超时,ACK决定的是窗口的后沿位置</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224175444325.png" alt="image-20230224175444325"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180411251.png" alt="image-20230224180411251"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180545223.png" alt="image-20230224180545223"></p>
<p>注意上图中黑框为发送缓冲区的范围(发送后才加入发送窗口开始计时)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224180921150.png" alt="image-20230224180921150"></p>
<h2 id="3-5-面向连接的传输-TCP"><a href="#3-5-面向连接的传输-TCP" class="headerlink" title="3.5 面向连接的传输: TCP"></a>3.5 面向连接的传输: TCP</h2><h3 id="TCP-概述"><a href="#TCP-概述" class="headerlink" title="TCP:概述"></a>TCP:概述</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224181400695.png" alt="image-20230224181400695"></p>
<ul>
<li>全双工:二者可以同时向对方发送数据</li>
<li>物理链路中载荷大小有限,通过划定最大报文段大小,使数据分块分块后传输</li>
</ul>
<h3 id="TCP-报文段结构"><a href="#TCP-报文段结构" class="headerlink" title="TCP:报文段结构"></a>TCP:报文段结构</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224182042768.png" alt="image-20230224182042768"></p>
<ul>
<li>注意序号是字节的序号,而不是前文中PDU的序号,如MSS大小为1024B,第一个MSS序号为0,则第二个MSS序号为1024,第n个MSS序号为1024*n(真实情况中,初始序号在握手时决定),而窗口大小也是以字节为单位</li>
<li>注意接受方若向发送方发送ACK555,则表示554及之前的字节都被成功接受,需要第555个字节(注意与前文差1)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224183105558.png" alt="image-20230224183105558"></p>
<ul>
<li>乱序到达的段既可以丢弃也可以缓存</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230224183327965.png" alt="image-20230224183327965"></p>
<h3 id="TCP-往返延时-RTT-和超时"><a href="#TCP-往返延时-RTT-和超时" class="headerlink" title="TCP:往返延时(RTT)和超时"></a>TCP:往返延时(RTT)和超时</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225140249704.png" alt="image-20230225140249704"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141039317.png" alt="image-20230225141039317"></p>
<p>前i个采样贡献权值为a*(1-a)^i,即呈指数下降</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141248713.png" alt="image-20230225141248713"></p>
<h3 id="TCP-可靠数据传递"><a href="#TCP-可靠数据传递" class="headerlink" title="TCP:可靠数据传递"></a>TCP:可靠数据传递</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225141458179.png" alt="image-20230225141458179"></p>
<p>由重复确认引起的重传称为快速重传(因为还没超时)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225142912828.png" alt="image-20230225142912828"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225143112205.png" alt="image-20230225143112205"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225143833761.png" alt="image-20230225143833761"></p>
<p>接受方的ACK行为</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144453436.png" alt="image-20230225144453436"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144755237.png" alt="image-20230225144755237"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225144951125.png" alt="image-20230225144951125"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225145145451.png" alt="image-20230225145145451"></p>
<h3 id="TCP-流量控制"><a href="#TCP-流量控制" class="headerlink" title="TCP:流量控制"></a>TCP:流量控制</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225145421440.png" alt="image-20230225145421440"></p>
<ul>
<li>通过反馈接受窗口的大小(即缓冲区的空白大小)来控制流量</li>
<li>通过对报文段结构的学习,我们可以知道,反馈信息(窗口大小,ACK等等)是附带在数据中的(TCP的双向传输特性也支持这一点)</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150043512.png" alt="image-20230225150043512"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150300140.png" alt="image-20230225150300140"></p>
<h3 id="TCP-连接管理"><a href="#TCP-连接管理" class="headerlink" title="TCP:连接管理"></a>TCP:连接管理</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150639856.png" alt="image-20230225150639856"></p>
<h4 id="两次握手是否可行"><a href="#两次握手是否可行" class="headerlink" title="两次握手是否可行?"></a>两次握手是否可行?</h4><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225150945256.png" alt="image-20230225150945256"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225151455685.png" alt="image-20230225151455685"></p>
<p>即双方正常创建连接,关闭连接后,该连接中由于超时导致的重复发送(可能是连接请求,可能是传输的数据)才到达服务器,第一张图中服务器”建立”了一个不存在的连接,而第二张图中服务器不仅”建立”了一个不存在的连接,甚至接受了前一个连接中的老数据作为当前连接的新数据</p>
<h4 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h4><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225152459699.png" alt="image-20230225152459699"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225153349475.png" alt="image-20230225153349475"></p>
<ul>
<li>可以发现,第二次握手表示服务器是活跃的,第三次握手表示客户端是活跃的,因此延迟到达的连接请求会被服务器拒绝,无法建立</li>
<li>而延迟到达的数据,若socket已经关闭,则服务器不接受该数据;若相同端口,IP地址的socket<strong>再次</strong>打开,由于初始序号不一致,老数据仍被拒绝</li>
<li>有没有可能老数据的序号与此时的序号恰好一致—有,概率极小</li>
<li>可以将初始序号同时间周期绑定在一起—仍有可能重复,概率非常非常小,几乎不可能</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225153752143.png" alt="image-20230225153752143"></p>
<h4 id="连接拆除"><a href="#连接拆除" class="headerlink" title="连接拆除"></a>连接拆除</h4><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225154139229.png" alt="image-20230225154139229"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225154633265.png" alt="image-20230225154633265"></p>
<ul>
<li>为什么最后客户端仍有个等待时间—为了确保ack发送到服务器(ack可能发生丢失),服务器接收到ack后就关闭连接,客户端在发送ack一段时间后,才关闭连接</li>
</ul>
<h2 id="3-6-拥塞控制原理"><a href="#3-6-拥塞控制原理" class="headerlink" title="3.6 拥塞控制原理"></a>3.6 拥塞控制原理</h2><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225155834350.png" alt="image-20230225155834350"></p>
<p>与流量控制的差别:流量控制是”我”到”你”的问题,即单对单,而拥塞控制是整个网络的问题(多到多)</p>
<h3 id="拥塞场景-代价1"><a href="#拥塞场景-代价1" class="headerlink" title="拥塞场景/代价1"></a>拥塞场景/代价1</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160222368.png" alt="image-20230225160222368"></p>
<h3 id="拥塞场景-代价2"><a href="#拥塞场景-代价2" class="headerlink" title="拥塞场景/代价2"></a>拥塞场景/代价2</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160521192.png" alt="image-20230225160521192"></p>
<ul>
<li>传输层输出大于应用层输出</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160648117.png" alt="image-20230225160648117"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225160954619.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225161100966.png" alt="image-20230225161100966"></p>
<ul>
<li>因为拥塞,即使数据没有丢失也发生了超时,此时链路中存在多个相同的分组—浪费,同时加剧拥塞</li>
</ul>
<h3 id="拥塞场景-代价3"><a href="#拥塞场景-代价3" class="headerlink" title="拥塞场景/代价3"></a>拥塞场景/代价3</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225161840238.png" alt="image-20230225161840238"></p>
<ul>
<li>蓝色的流量经过第一个路由器过滤,当发生拥塞时,蓝色经过的第二个路由器,其吞吐量被红色占据,蓝色吞吐量几乎为0,而红色在其经过的第二个路由器,该路由器吞吐量又几乎被绿色的流量占据,故红色的吞吐量也几乎为0</li>
<li>出现”死锁”</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225162420588.png" alt="image-20230225162420588"></p>
<h3 id="拥塞控制方法"><a href="#拥塞控制方法" class="headerlink" title="拥塞控制方法"></a>拥塞控制方法</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225162548691.png" alt="image-20230225162548691"></p>
<h3 id="网络辅助的拥塞控制"><a href="#网络辅助的拥塞控制" class="headerlink" title="网络辅助的拥塞控制"></a>网络辅助的拥塞控制</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225163124710.png" alt="image-20230225163124710"></p>
<p>信元: 53个字节,其中5个字节是头部(非常小,所以传输得很快,比bit大,比分组小)</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230225164602424.png" alt="image-20230225164602424"></p>
<h2 id="3-7-TCP拥塞控制"><a href="#3-7-TCP拥塞控制" class="headerlink" title="3.7 TCP拥塞控制"></a>3.7 TCP拥塞控制</h2><p>因为网络辅助的拥塞控制,给网络带来的压力较大(附加了控制信息),所以TCP采用端到端的拥塞控制</p>
<h3 id="TCP拥塞控制-机制"><a href="#TCP拥塞控制-机制" class="headerlink" title="TCP拥塞控制:机制"></a>TCP拥塞控制:机制</h3><p>端到端的拥塞控制机制</p>
<ul>
<li>路由器不向主机提供有关拥塞的反馈信息<ul>
<li>路由器的负担较轻</li>
<li>符合网络核心简单的TCP/IP架构原则(将问题放在端系统解决)</li>
</ul>
</li>
<li>端系统根据自身得到的信息,判断是否发生拥塞,从而采取动作</li>
</ul>
<p>几个问题</p>
<ul>
<li>如何检测拥塞<ul>
<li>轻微拥塞</li>
<li>拥塞</li>
</ul>
</li>
<li>控制策略<ul>
<li>在拥塞发生时如何动作,降低速率<ul>
<li>轻微拥塞时,如何降低</li>
<li>拥塞时,如何降低</li>
</ul>
</li>
<li>在拥塞缓解时如何动作,增加速率</li>
</ul>
</li>
</ul>
<h3 id="TCP拥塞控制-拥塞感知"><a href="#TCP拥塞控制-拥塞感知" class="headerlink" title="TCP拥塞控制:拥塞感知"></a>TCP拥塞控制:拥塞感知</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230303165305564.png" alt="image-20230303165305564"></p>
<h3 id="TCP拥塞控制-速率控制方法"><a href="#TCP拥塞控制-速率控制方法" class="headerlink" title="TCP拥塞控制:速率控制方法"></a>TCP拥塞控制:速率控制方法</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306124919075.png" alt="image-20230306124919075"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306125436218.png" alt="image-20230306125436218"></p>
<p>(MSS:最大报文段长度)</p>
<p>即发生超时时,先降为1,然后倍增到原来CongWin的1/2(每个RTT增加1倍),然后开始线性增长</p>
<p>若出现轻微拥塞,则直接降为CongWin的1/2,然后线性增长</p>
<h3 id="TCP拥塞控制和流量控制的联合动作"><a href="#TCP拥塞控制和流量控制的联合动作" class="headerlink" title="TCP拥塞控制和流量控制的联合动作"></a>TCP拥塞控制和流量控制的联合动作</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130150738.png" alt="image-20230306130150738"></p>
<h3 id="TCP拥塞控制-策略概述"><a href="#TCP拥塞控制-策略概述" class="headerlink" title="TCP拥塞控制:策略概述"></a>TCP拥塞控制:策略概述</h3><ul>
<li>慢启动</li>
<li>AIMD:线性增,乘性减少</li>
<li>超时事件后的保守策略</li>
</ul>
<p>TCP慢启动</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130736526.png" alt="image-20230306130736526"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306130923523.png" alt="image-20230306130923523"></p>
<p>AIMD</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131203459.png" alt="image-20230306131203459"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131255848.png" alt="image-20230306131255848"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306131817274.png" alt="image-20230306131817274"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132117204.png" alt="image-20230306132117204"></p>
<h3 id="TCP吞吐量"><a href="#TCP吞吐量" class="headerlink" title="TCP吞吐量"></a>TCP吞吐量</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132440982.png" alt="image-20230306132440982"></p>
<h3 id="TCP公平性"><a href="#TCP公平性" class="headerlink" title="TCP公平性"></a>TCP公平性</h3><p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306132650138.png" alt="image-20230306132650138"></p>
<p>每次发送拥塞,窗口大小要除2,则TCP会话之间的窗口大小之差也除2,指数级趋向于0,故每一个会话的有效带宽相同</p>
<p><img src="https://cdn.jsdelivr.net/gh/Kanata369/blogimage@main/img/image-20230306133430732.png" alt="image-20230306133430732"></p>
<p>UDP不受拥塞控制节制—对TCP不友好</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2023/01/04/cmake%E9%A3%9F%E7%94%A8%E6%8C%87%E5%8C%97/" rel="next" title="cmake食用指北">
                <i class="fa fa-chevron-left"></i> cmake食用指北
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2023/02/20/CF1795G/" rel="prev" title="CF1795G">
                CF1795G <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1496089152&auto=0&height=66"></iframe>
      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
              
                  <span class="site-state-item-count">60</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/dyg-55" target="_blank" title="Zhihu">
                      
                        <i class="fa fa-fw fa-globe"></i>Zhihu</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友链
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://tangdouer.cn" title="糖豆儿" target="_blank">糖豆儿</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%A6%82%E8%AE%BA"><span class="nav-number">1.</span> <span class="nav-text">第一章 概论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%92%E8%81%94%E7%BD%91"><span class="nav-number">1.1.</span> <span class="nav-text">1.1什么是互联网</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E7%82%B9"><span class="nav-number">1.1.1.</span> <span class="nav-text">节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%B9%E2%80%94%E9%80%9A%E4%BF%A1%E9%93%BE%E8%B7%AF"><span class="nav-number">1.1.2.</span> <span class="nav-text">边—通信链路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E2%80%94%E5%AF%B9%E7%AD%89%E5%B1%82%E7%9A%84%E5%AE%9E%E4%BD%93-%E5%9C%A8%E9%80%9A%E4%BF%A1%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD-%E5%BA%94%E8%AF%A5%E9%81%B5%E5%AE%88%E7%9A%84%E8%A7%84%E5%88%99%E9%9B%86%E5%90%88"><span class="nav-number">1.1.3.</span> <span class="nav-text">协议—对等层的实体,在通信的过程中,应该遵守的规则集合</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="nav-number">1.2.</span> <span class="nav-text">1.2网络边缘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="nav-number">1.2.1.</span> <span class="nav-text">网络结构:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="nav-number">1.2.2.</span> <span class="nav-text">网络边缘</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 网络核心</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83-%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E7%BD%91%E7%8A%B6%E7%BD%91%E7%BB%9C"><span class="nav-number">1.3.1.</span> <span class="nav-text">网络核心:路由器的网状网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83-%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="nav-number">1.3.2.</span> <span class="nav-text">网络核心:电路交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2-FDM-TDM%E4%B8%8EWDM%E2%80%94%E5%B0%86%E8%8A%82%E7%82%B9%E4%B8%8E%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E8%83%BD%E5%8A%9B%E5%88%86%E5%89%B2%E6%88%90%E5%B0%8F%E7%89%87-piece-%E7%9A%84%E5%BD%A2%E5%BC%8F"><span class="nav-number">1.3.3.</span> <span class="nav-text">电路交换:FDM,TDM与WDM—将节点与节点之间的通信能力分割成小片(piece)的形式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83-%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="nav-number">1.3.4.</span> <span class="nav-text">网络核心:分组交换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A5%E5%88%86%E7%BB%84-packet-%E4%B8%BA%E5%8D%95%E4%BD%8D%E5%AD%98%E5%82%A8-%E8%BD%AC%E5%8F%91"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">以分组(packet)为单位存储-转发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB-%E6%8C%89%E9%9C%80%E4%BD%BF%E7%94%A8"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">资源共享,按需使用:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83%E7%9A%84%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD"><span class="nav-number">1.3.5.</span> <span class="nav-text">网络核心的关键功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C-%E5%AD%98%E5%82%A8-%E8%BD%AC%E5%8F%91"><span class="nav-number">1.3.6.</span> <span class="nav-text">分组交换网络:存储-转发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-%E6%8E%A5%E5%85%A5%E7%BD%91%E5%92%8C%E7%89%A9%E7%90%86%E5%AA%92%E4%BD%93"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 接入网和物理媒体</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%8E%E6%A0%B7%E5%B0%86%E7%AB%AF%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BE%B9%E7%BC%98%E8%B7%AF%E7%94%B1%E5%99%A8%E8%BF%9E%E6%8E%A5"><span class="nav-number">1.4.1.</span> <span class="nav-text">怎样将端系统和边缘路由器连接?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8F%E5%AE%85%E6%8E%A5%E5%85%A5-modem"><span class="nav-number">1.4.2.</span> <span class="nav-text">住宅接入: modem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91-digital-subscriber-line-DSL"><span class="nav-number">1.4.3.</span> <span class="nav-text">接入网: digital subscriber line(DSL)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91-%E7%BA%BF%E7%BC%86%E7%BD%91%E7%BB%9C"><span class="nav-number">1.4.4.</span> <span class="nav-text">接入网: 线缆网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%81%E4%B8%9A%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C-Ethernet"><span class="nav-number">1.4.5.</span> <span class="nav-text">企业接入网络(Ethernet)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C-%E5%90%84%E6%97%A0%E7%BA%BF%E7%AB%AF%E7%B3%BB%E7%BB%9F%E5%85%B1%E4%BA%AB%E6%97%A0%E7%BA%BF%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C-%E7%AB%AF%E7%B3%BB%E7%BB%9F%E5%88%B0%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8-%E9%80%9A%E8%BF%87%E5%9F%BA%E7%AB%99%E6%88%96%E8%80%85%E5%8F%AB%E6%8E%A5%E5%85%A5%E7%82%B9"><span class="nav-number">1.4.6.</span> <span class="nav-text">无线接入网络:各无线端系统共享无线接入网络(端系统到无线路由器),通过基站或者叫接入点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%AA%92%E4%BD%93"><span class="nav-number">1.4.7.</span> <span class="nav-text">物理媒体</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-Internet%E5%92%8CISP"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 Internet和ISP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84-%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="nav-number">1.5.1.</span> <span class="nav-text">互联网网络结构:网络的网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E7%BB%93%E6%9E%84-network-of-networks"><span class="nav-number">1.5.2.</span> <span class="nav-text">Internet结构: network of networks</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-%E5%88%86%E7%BB%84%E5%BB%B6%E6%97%B6-%E4%B8%A2%E5%A4%B1%E5%92%8C%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-number">1.6.</span> <span class="nav-text">1.6 分组延时,丢失和吞吐量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%B8%A2%E5%A4%B1%E5%92%8C%E5%BB%B6%E6%97%B6%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.6.1.</span> <span class="nav-text">分组丢失和延时的原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E7%A7%8D%E5%88%86%E7%BB%84%E5%BB%B6%E6%97%B6"><span class="nav-number">1.6.2.</span> <span class="nav-text">四种分组延时</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E5%A4%84%E7%90%86%E5%BB%B6%E6%97%B6-nodal-processing"><span class="nav-number">1.6.2.1.</span> <span class="nav-text">节点处理延时(nodal processing)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%92%E9%98%9F%E5%BB%B6%E6%97%B6-queueing"><span class="nav-number">1.6.2.2.</span> <span class="nav-text">排队延时(queueing)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E5%BB%B6%E6%97%B6-transmission"><span class="nav-number">1.6.2.3.</span> <span class="nav-text">传输延时(transmission)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%A0%E6%92%AD%E5%BB%B6%E6%97%B6-propagation"><span class="nav-number">1.6.2.4.</span> <span class="nav-text">传播延时(propagation)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E9%98%9F%E5%BB%B6%E6%97%B6"><span class="nav-number">1.6.3.</span> <span class="nav-text">排队延时</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E7%9A%84%E5%BB%B6%E6%97%B6%E5%92%8C%E8%B7%AF%E7%94%B1"><span class="nav-number">1.6.4.</span> <span class="nav-text">Internet的延时和路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%B8%A2%E5%A4%B1"><span class="nav-number">1.6.5.</span> <span class="nav-text">分组丢失</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-number">1.6.6.</span> <span class="nav-text">吞吐量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-%E5%8D%8F%E8%AE%AE%E5%B1%82%E6%AC%A1%E5%92%8C%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.7.</span> <span class="nav-text">1.7 协议层次和服务模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E5%B1%82%E6%AC%A1"><span class="nav-number">1.7.1.</span> <span class="nav-text">协议层次</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E4%B8%8E%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E7%82%B9"><span class="nav-number">1.7.2.</span> <span class="nav-text">服务与服务访问点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.7.3.</span> <span class="nav-text">服务的类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%8D%8F%E8%AE%AE"><span class="nav-number">1.7.4.</span> <span class="nav-text">服务与协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B1%82%E5%A4%84%E7%90%86%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%A4%8D%E6%9D%82%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="nav-number">1.7.5.</span> <span class="nav-text">分层处理和实现复杂系统的好处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="nav-number">1.7.6.</span> <span class="nav-text">Internet协议栈</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-%E5%8E%86%E5%8F%B2"><span class="nav-number">1.8.</span> <span class="nav-text">1.8 历史</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A9%E6%9C%9F-1960%E4%BB%A5%E5%89%8D-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-number">1.8.1.</span> <span class="nav-text">早期(1960以前)计算机网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1961-1972-%E6%97%A9%E6%9C%9F%E7%9A%84%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E6%A6%82%E5%BF%B5"><span class="nav-number">1.8.2.</span> <span class="nav-text">1961-1972:早期的分组交换概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1972-1980-%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C%E5%92%8C%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94"><span class="nav-number">1.8.3.</span> <span class="nav-text">1972-1980:专用网络和网络互联</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1980-1990-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%8F%98%E5%8C%96-%E7%BD%91%E7%BB%9C%E6%95%B0%E9%87%8F%E6%BF%80%E5%A2%9E-%E5%BA%94%E7%94%A8%E4%B8%B0%E5%AF%8C"><span class="nav-number">1.8.4.</span> <span class="nav-text">1980-1990:体系结构变化,网络数量激增,应用丰富</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1990-2000%E2%80%99s-%E5%95%86%E4%B8%9A%E5%8C%96-Web-%E6%96%B0%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-number">1.8.5.</span> <span class="nav-text">1990,2000’s :商业化,Web,新的应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2005-%E7%8E%B0%E5%9C%A8"><span class="nav-number">1.8.6.</span> <span class="nav-text">2005-现在</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">2.</span> <span class="nav-text">第二章 应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E5%BA%94%E7%94%A8%E5%B1%82%E5%8E%9F%E7%90%86"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 应用层原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8"><span class="nav-number">2.1.1.</span> <span class="nav-text">创建一个新的网络应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E7%9A%84%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84"><span class="nav-number">2.1.2.</span> <span class="nav-text">网络应用的体系架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="nav-number">2.1.3.</span> <span class="nav-text">进程通信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.1.4.</span> <span class="nav-text">分布式进程通信需要解决的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%981-%E5%AF%B9%E8%BF%9B%E7%A8%8B%E8%BF%9B%E8%A1%8C%E7%BC%96%E5%88%B6-addressing"><span class="nav-number">2.1.5.</span> <span class="nav-text">问题1:对进程进行编制(addressing)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%982-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1-%E9%9C%80%E8%A6%81%E7%A9%BF%E8%BF%87%E5%B1%82%E9%97%B4%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="nav-number">2.1.6.</span> <span class="nav-text">问题2:传输层提供的服务-需要穿过层间的信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%982-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1-%E5%B1%82%E9%97%B4%E4%BF%A1%E6%81%AF%E7%9A%84%E4%BB%A3%E8%A1%A8"><span class="nav-number">2.1.7.</span> <span class="nav-text">问题2:传输层提供的服务-层间信息的代表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%983-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%AE%9E%E7%8E%B0%E5%BA%94%E7%94%A8"><span class="nav-number">2.1.8.</span> <span class="nav-text">问题3:如何使用传输层提供的服务实现应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-number">2.1.9.</span> <span class="nav-text">Internet传输层提供的服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP%E5%AD%98%E5%9C%A8%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7"><span class="nav-number">2.1.10.</span> <span class="nav-text">UDP存在的必要性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E5%BA%94%E7%94%A8%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%92%8C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="nav-number">2.1.11.</span> <span class="nav-text">Internet应用及其应用层协议和传输协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7"><span class="nav-number">2.1.12.</span> <span class="nav-text">安全性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-Web-and-HTTP"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 Web and HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E6%A6%82%E5%86%B5"><span class="nav-number">2.2.1.</span> <span class="nav-text">HTTP概况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87"><span class="nav-number">2.2.2.</span> <span class="nav-text">HTTP请求报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5"><span class="nav-number">2.2.3.</span> <span class="nav-text">提交表单输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.4.</span> <span class="nav-text">方法类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87"><span class="nav-number">2.2.5.</span> <span class="nav-text">HTTP响应报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-number">2.2.6.</span> <span class="nav-text">HTTP响应状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81-cookies"><span class="nav-number">2.2.7.</span> <span class="nav-text">用户-服务器状态:cookies</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web%E7%BC%93%E5%AD%98-%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8-proxy-server"><span class="nav-number">2.2.8.</span> <span class="nav-text">Web缓存(代理服务器&#x2F;proxy server)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-FTP"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 FTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP-%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="nav-number">2.3.1.</span> <span class="nav-text">FTP:文件传输协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP-%E6%8E%A7%E5%88%B6%E8%BF%9E%E6%8E%A5%E4%B8%8E%E6%95%B0%E6%8D%AE%E8%BF%9E%E6%8E%A5%E5%88%86%E5%BC%80"><span class="nav-number">2.3.2.</span> <span class="nav-text">FTP:控制连接与数据连接分开</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP%E5%91%BD%E4%BB%A4-%E5%93%8D%E5%BA%94"><span class="nav-number">2.3.3.</span> <span class="nav-text">FTP命令,响应</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-Email"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 Email</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Email-SMTP-RFC-2821"><span class="nav-number">2.4.1.</span> <span class="nav-text">Email: SMTP[RFC 2821]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMTP-%E6%80%BB%E7%BB%93"><span class="nav-number">2.4.2.</span> <span class="nav-text">SMTP:总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.4.3.</span> <span class="nav-text">邮件报文格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="nav-number">2.4.4.</span> <span class="nav-text">邮件访问协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POP3%E5%8D%8F%E8%AE%AE"><span class="nav-number">2.4.5.</span> <span class="nav-text">POP3协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-DNS-Domain-Name-System"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 DNS(Domain Name System)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS-%E5%9F%9F%E5%90%8D%E8%BD%AC%E6%8D%A2%E7%B3%BB%E7%BB%9F-%E7%9A%84%E5%BF%85%E8%A6%81%E6%80%A7"><span class="nav-number">2.5.1.</span> <span class="nav-text">DNS(域名转换系统)的必要性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.5.2.</span> <span class="nav-text">DNS系统需要解决的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E7%9A%84%E5%8E%86%E5%8F%B2"><span class="nav-number">2.5.3.</span> <span class="nav-text">DNS的历史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E6%80%BB%E4%BD%93%E6%80%9D%E8%B7%AF%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="nav-number">2.5.4.</span> <span class="nav-text">DNS总体思路和目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%982-%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98-%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8-Name-Server"><span class="nav-number">2.5.5.</span> <span class="nav-text">问题2: 解析问题-名字服务器(Name Server)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BB%B4%E6%8A%A4%E8%B5%84%E6%BA%90%E8%AE%B0%E5%BD%95"><span class="nav-number">2.5.6.</span> <span class="nav-text">区域名字服务器维护资源记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E5%A4%A7%E8%87%B4%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="nav-number">2.5.7.</span> <span class="nav-text">DNS大致工作过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8-Local-Name-Server"><span class="nav-number">2.5.8.</span> <span class="nav-text">本地名字服务器(Local Name Server)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="nav-number">2.5.9.</span> <span class="nav-text">查询方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS%E5%8D%8F%E8%AE%AE-%E6%8A%A5%E6%96%87"><span class="nav-number">2.5.10.</span> <span class="nav-text">DNS协议,报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%983-%E7%BB%B4%E6%8A%A4%E9%97%AE%E9%A2%98-%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA%E5%9F%9F"><span class="nav-number">2.5.11.</span> <span class="nav-text">问题3: 维护问题:新增一个域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BB%E5%87%BBDNS"><span class="nav-number">2.5.12.</span> <span class="nav-text">攻击DNS</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-P2P%E5%BA%94%E7%94%A8"><span class="nav-number">2.6.</span> <span class="nav-text">2.6 P2P应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%AFP2P%E6%9E%B6%E6%9E%84"><span class="nav-number">2.6.1.</span> <span class="nav-text">纯P2P架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91-C-S-vs-P2P"><span class="nav-number">2.6.2.</span> <span class="nav-text">文件分发: C&#x2F;S vs P2P</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91"><span class="nav-number">2.6.3.</span> <span class="nav-text">P2P文件分发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P-%E9%9B%86%E4%B8%AD%E5%BC%8F%E7%9B%AE%E5%BD%95"><span class="nav-number">2.6.4.</span> <span class="nav-text">P2P:集中式目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P-%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F"><span class="nav-number">2.6.5.</span> <span class="nav-text">P2P:完全分布式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P-%E6%B7%B7%E5%90%88%E4%BD%93"><span class="nav-number">2.6.6.</span> <span class="nav-text">P2P:混合体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Distributed-Hash-Table-DHT"><span class="nav-number">2.6.7.</span> <span class="nav-text">Distributed Hash Table(DHT)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-CDN"><span class="nav-number">2.7.</span> <span class="nav-text">2.7 CDN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E5%AA%92%E4%BD%93-%E8%A7%86%E9%A2%91"><span class="nav-number">2.7.1.</span> <span class="nav-text">多媒体:视频</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%A7%86%E9%A2%91%E7%9A%84%E6%B5%81%E5%8C%96%E6%9C%8D%E5%8A%A1-streaming-DASH"><span class="nav-number">2.7.2.</span> <span class="nav-text">存储视频的流化服务(streaming): DASH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CDN-%E2%80%9D%E7%AE%80%E5%8D%95%E2%80%9D%E5%86%85%E5%AE%B9%E8%AE%BF%E9%97%AE%E5%9C%BA%E6%99%AF"><span class="nav-number">2.7.3.</span> <span class="nav-text">CDN:”简单”内容访问场景</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-8-TCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="nav-number">2.8.</span> <span class="nav-text">2.8 TCP套接字编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Socket%E7%BC%96%E7%A8%8B"><span class="nav-number">2.8.1.</span> <span class="nav-text">Socket编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="nav-number">2.8.2.</span> <span class="nav-text">TCP套接字编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-sockaddr-in"><span class="nav-number">2.8.3.</span> <span class="nav-text">数据结构 sockaddr_in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84hostent"><span class="nav-number">2.8.4.</span> <span class="nav-text">数据结构hostent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-S-socket%E4%BA%A4%E4%BA%92-TCP"><span class="nav-number">2.8.5.</span> <span class="nav-text">C&#x2F;S socket交互: TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90-C%E5%AE%A2%E6%88%B7%E7%AB%AF-TCP"><span class="nav-number">2.8.6.</span> <span class="nav-text">例子:C客户端(TCP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%8B%E5%AD%90-C%E6%9C%8D%E5%8A%A1%E5%99%A8-TCP"><span class="nav-number">2.8.7.</span> <span class="nav-text">例子:C服务器(TCP)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-9-UDP-socket"><span class="nav-number">2.9.</span> <span class="nav-text">2.9 UDP socket</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="nav-number">2.9.1.</span> <span class="nav-text">UDP套接字编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-S-socket-%E4%BA%A4%E4%BA%92-UDP"><span class="nav-number">2.9.2.</span> <span class="nav-text">C&#x2F;S socket 交互:UDP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-C%E5%AE%A2%E6%88%B7%E7%AB%AF-UDP"><span class="nav-number">2.9.3.</span> <span class="nav-text">样例:C客户端(UDP)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-C%E6%9C%8D%E5%8A%A1%E5%99%A8-UDP"><span class="nav-number">2.9.4.</span> <span class="nav-text">样例:C服务器(UDP)</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">第三章 传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E6%A6%82%E8%BF%B0%E5%92%8C%E4%BC%A0%E8%BE%93%E5%B1%82%E6%9C%8D%E5%8A%A1"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 概述和传输层服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E6%9C%8D%E5%8A%A1%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.1.1.</span> <span class="nav-text">传输服务和协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82-VS-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">3.1.2.</span> <span class="nav-text">传输层 VS 网络层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.1.3.</span> <span class="nav-text">Internet传输层协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%92%8C%E8%A7%A3%E5%A4%8D%E7%94%A8"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 多路复用和解复用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">3.2.1.</span> <span class="nav-text">工作原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5-UDP-%E5%A4%9A%E8%B7%AF%E8%A7%A3%E5%A4%8D%E7%94%A8"><span class="nav-number">3.2.2.</span> <span class="nav-text">无连接(UDP)多路解复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%A7%A3%E5%A4%8D%E7%94%A8"><span class="nav-number">3.2.3.</span> <span class="nav-text">面向连接的解复用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E6%97%A0%E8%BF%9E%E6%8E%A5%E4%BC%A0%E8%BE%93-UDP"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 无连接传输 UDP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP-%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.3.1.</span> <span class="nav-text">UDP:用户数据报协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="nav-number">3.3.2.</span> <span class="nav-text">UDP校验和</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93-rdt-%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 可靠数据传输(rdt)的原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Rdt1-0-%E5%9C%A8%E5%8F%AF%E9%9D%A0%E4%BF%A1%E9%81%93%E4%B8%8A%E7%9A%84%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="nav-number">3.4.1.</span> <span class="nav-text">Rdt1.0: 在可靠信道上的可靠数据传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rdt2-0-%E5%85%B7%E6%9C%89%E6%AF%94%E7%89%B9%E5%B7%AE%E9%94%99%E7%9A%84%E4%BF%A1%E9%81%93"><span class="nav-number">3.4.2.</span> <span class="nav-text">Rdt2.0: 具有比特差错的信道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rdt2-2-%E6%97%A0NAK%E7%9A%84%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.3.</span> <span class="nav-text">Rdt2.2: 无NAK的协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rdt3-0-%E5%85%B7%E6%9C%89%E6%AF%94%E7%89%B9%E5%B7%AE%E9%94%99%E5%92%8C%E5%88%86%E7%BB%84%E4%B8%A2%E5%A4%B1%E7%9A%84%E4%BF%A1%E9%81%93"><span class="nav-number">3.4.4.</span> <span class="nav-text">Rdt3.0 :具有比特差错和分组丢失的信道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%8D%8F%E8%AE%AE-%E6%8F%90%E9%AB%98%E9%93%BE%E8%B7%AF%E5%88%A9%E7%94%A8%E7%8E%87"><span class="nav-number">3.4.5.</span> <span class="nav-text">流水线协议:提高链路利用率</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E7%94%A8-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3-slide-window-%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.4.6.</span> <span class="nav-text">通用:滑动窗口(slide window)协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GBN%E5%8D%8F%E8%AE%AE%E5%92%8CSR%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%BC%82%E5%90%8C"><span class="nav-number">3.4.7.</span> <span class="nav-text">GBN协议和SR协议的异同</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BC%A0%E8%BE%93-TCP"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 面向连接的传输: TCP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E6%A6%82%E8%BF%B0"><span class="nav-number">3.5.1.</span> <span class="nav-text">TCP:概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E6%8A%A5%E6%96%87%E6%AE%B5%E7%BB%93%E6%9E%84"><span class="nav-number">3.5.2.</span> <span class="nav-text">TCP:报文段结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E5%BE%80%E8%BF%94%E5%BB%B6%E6%97%B6-RTT-%E5%92%8C%E8%B6%85%E6%97%B6"><span class="nav-number">3.5.3.</span> <span class="nav-text">TCP:往返延时(RTT)和超时</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92"><span class="nav-number">3.5.4.</span> <span class="nav-text">TCP:可靠数据传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="nav-number">3.5.5.</span> <span class="nav-text">TCP:流量控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="nav-number">3.5.6.</span> <span class="nav-text">TCP:连接管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%A4%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%98%AF%E5%90%A6%E5%8F%AF%E8%A1%8C"><span class="nav-number">3.5.6.1.</span> <span class="nav-text">两次握手是否可行?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="nav-number">3.5.6.2.</span> <span class="nav-text">三次握手</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%8B%86%E9%99%A4"><span class="nav-number">3.5.6.3.</span> <span class="nav-text">连接拆除</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 拥塞控制原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E5%9C%BA%E6%99%AF-%E4%BB%A3%E4%BB%B71"><span class="nav-number">3.6.1.</span> <span class="nav-text">拥塞场景&#x2F;代价1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E5%9C%BA%E6%99%AF-%E4%BB%A3%E4%BB%B72"><span class="nav-number">3.6.2.</span> <span class="nav-text">拥塞场景&#x2F;代价2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E5%9C%BA%E6%99%AF-%E4%BB%A3%E4%BB%B73"><span class="nav-number">3.6.3.</span> <span class="nav-text">拥塞场景&#x2F;代价3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="nav-number">3.6.4.</span> <span class="nav-text">拥塞控制方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%85%E5%8A%A9%E7%9A%84%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">3.6.5.</span> <span class="nav-text">网络辅助的拥塞控制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 TCP拥塞控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-%E6%9C%BA%E5%88%B6"><span class="nav-number">3.7.1.</span> <span class="nav-text">TCP拥塞控制:机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-%E6%8B%A5%E5%A1%9E%E6%84%9F%E7%9F%A5"><span class="nav-number">3.7.2.</span> <span class="nav-text">TCP拥塞控制:拥塞感知</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-%E9%80%9F%E7%8E%87%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="nav-number">3.7.3.</span> <span class="nav-text">TCP拥塞控制:速率控制方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E5%92%8C%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6%E7%9A%84%E8%81%94%E5%90%88%E5%8A%A8%E4%BD%9C"><span class="nav-number">3.7.4.</span> <span class="nav-text">TCP拥塞控制和流量控制的联合动作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-%E7%AD%96%E7%95%A5%E6%A6%82%E8%BF%B0"><span class="nav-number">3.7.5.</span> <span class="nav-text">TCP拥塞控制:策略概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-number">3.7.6.</span> <span class="nav-text">TCP吞吐量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP%E5%85%AC%E5%B9%B3%E6%80%A7"><span class="nav-number">3.7.7.</span> <span class="nav-text">TCP公平性</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kanata</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
	//下面的HTML-CSS和SVG用于在小屏幕上，数学公式可以自动换行，我测试过后发现无效，但是貌似有人可以。
	"HTML-CSS": { 
		linebreaks: { 
			automatic: true 
		} 
	},SVG: {
		linebreaks: { 
			automatic: true 
		}
	},menuSettings: {
		zoom: "None"
	},
	showMathMenu: false,
	jax: ["input/TeX","output/CommonHTML"],
	extensions: ["tex2jax.js"],
	TeX: {
		extensions: ["AMSmath.js","AMSsymbols.js"],
		equationNumbers: {
			autoNumber: "AMS"
		}
	},tex2jax: {
		inlineMath: [["\\(", "\\)"]],
		displayMath: [["\\[", "\\]"]]
	}
});
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"scale":1.5,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/miku.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
